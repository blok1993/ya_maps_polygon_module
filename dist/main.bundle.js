!function(t){var e={};function r(n){if(e[n])return e[n].exports;var a=e[n]={i:n,l:!1,exports:{}};return t[n].call(a.exports,a,a.exports,r),a.l=!0,a.exports}r.m=t,r.c=e,r.d=function(t,e,n){r.o(t,e)||Object.defineProperty(t,e,{configurable:!1,enumerable:!0,get:n})},r.r=function(t){Object.defineProperty(t,"__esModule",{value:!0})},r.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="",r(r.s=7)}([function(t,e,r){"use strict";t.exports=function(t,e,r){var a=t*e,i=n*t,o=i-(i-t),s=t-o,l=n*e,u=l-(l-e),f=e-u,c=s*f-(a-o*u-s*u-o*f);if(r)return r[0]=c,r[1]=a,r;return[c,a]};var n=+(Math.pow(2,27)+1)},function(t,e,r){"use strict";t.exports=function(t,e){var r=0|t.length,n=0|e.length;if(1===r&&1===n)return function(t,e){var r=t+e,n=r-t,a=t-(r-n)+(e-n);if(a)return[a,r];return[r]}(t[0],-e[0]);var a,i,o=new Array(r+n),s=0,l=0,u=0,f=Math.abs,c=t[l],p=f(c),h=-e[u],d=f(h);p<d?(i=c,(l+=1)<r&&(c=t[l],p=f(c))):(i=h,(u+=1)<n&&(h=-e[u],d=f(h)));l<r&&p<d||u>=n?(a=c,(l+=1)<r&&(c=t[l],p=f(c))):(a=h,(u+=1)<n&&(h=-e[u],d=f(h)));var g,v,m=a+i,b=m-a,y=i-b,M=y,w=m;for(;l<r&&u<n;)p<d?(a=c,(l+=1)<r&&(c=t[l],p=f(c))):(a=h,(u+=1)<n&&(h=-e[u],d=f(h))),(y=(i=M)-(b=(m=a+i)-a))&&(o[s++]=y),M=w-((g=w+m)-(v=g-w))+(m-v),w=g;for(;l<r;)(y=(i=M)-(b=(m=(a=c)+i)-a))&&(o[s++]=y),M=w-((g=w+m)-(v=g-w))+(m-v),w=g,(l+=1)<r&&(c=t[l]);for(;u<n;)(y=(i=M)-(b=(m=(a=h)+i)-a))&&(o[s++]=y),M=w-((g=w+m)-(v=g-w))+(m-v),w=g,(u+=1)<n&&(h=-e[u]);M&&(o[s++]=M);w&&(o[s++]=w);s||(o[s++]=0);return o.length=s,o}},function(t,e,r){"use strict";t.exports=function(t,e,r){var n=t+e,a=n-t,i=e-a,o=t-(n-a);if(r)return r[0]=o+i,r[1]=n,r;return[o+i,n]}},function(t,e,r){"use strict";var n=r(0),a=r(2);t.exports=function(t,e){var r=t.length;if(1===r){var i=n(t[0],e);return i[0]?i:[i[1]]}var o=new Array(2*r),s=[.1,.1],l=[.1,.1],u=0;n(t[0],e,s),s[0]&&(o[u++]=s[0]);for(var f=1;f<r;++f){n(t[f],e,l);var c=s[1];a(c,l[0],s),s[0]&&(o[u++]=s[0]);var p=l[1],h=s[1],d=p+h,g=d-p,v=h-g;s[1]=d,v&&(o[u++]=v)}s[1]&&(o[u++]=s[1]);0===u&&(o[u++]=0);return o.length=u,o}},function(t,e,r){"use strict";t.exports=function(t,e){var r=0|t.length,n=0|e.length;if(1===r&&1===n)return function(t,e){var r=t+e,n=r-t,a=t-(r-n)+(e-n);if(a)return[a,r];return[r]}(t[0],e[0]);var a,i,o=new Array(r+n),s=0,l=0,u=0,f=Math.abs,c=t[l],p=f(c),h=e[u],d=f(h);p<d?(i=c,(l+=1)<r&&(c=t[l],p=f(c))):(i=h,(u+=1)<n&&(h=e[u],d=f(h)));l<r&&p<d||u>=n?(a=c,(l+=1)<r&&(c=t[l],p=f(c))):(a=h,(u+=1)<n&&(h=e[u],d=f(h)));var g,v,m=a+i,b=m-a,y=i-b,M=y,w=m;for(;l<r&&u<n;)p<d?(a=c,(l+=1)<r&&(c=t[l],p=f(c))):(a=h,(u+=1)<n&&(h=e[u],d=f(h))),(y=(i=M)-(b=(m=a+i)-a))&&(o[s++]=y),M=w-((g=w+m)-(v=g-w))+(m-v),w=g;for(;l<r;)(y=(i=M)-(b=(m=(a=c)+i)-a))&&(o[s++]=y),M=w-((g=w+m)-(v=g-w))+(m-v),w=g,(l+=1)<r&&(c=t[l]);for(;u<n;)(y=(i=M)-(b=(m=(a=h)+i)-a))&&(o[s++]=y),M=w-((g=w+m)-(v=g-w))+(m-v),w=g,(u+=1)<n&&(h=e[u]);M&&(o[s++]=M);w&&(o[s++]=w);s||(o[s++]=0);return o.length=s,o}},function(t,e,r){"use strict";var n=r(0),a=r(4),i=r(3),o=r(1),s=5;function l(t,e){for(var r=new Array(t.length-1),n=1;n<t.length;++n)for(var a=r[n-1]=new Array(t.length-1),i=0,o=0;i<t.length;++i)i!==e&&(a[o++]=t[n][i]);return r}function u(t){if(1===t.length)return t[0];if(2===t.length)return["sum(",t[0],",",t[1],")"].join("");var e=t.length>>1;return["sum(",u(t.slice(0,e)),",",u(t.slice(e)),")"].join("")}function f(t){if(2===t.length)return[["sum(prod(",t[0][0],",",t[1][1],"),prod(-",t[0][1],",",t[1][0],"))"].join("")];for(var e=[],r=0;r<t.length;++r)e.push(["scale(",u(f(l(t,r))),",",(n=r,1&n?"-":""),t[0][r],")"].join(""));return e;var n}function c(t){for(var e=[],r=[],s=function(t){for(var e=new Array(t),r=0;r<t;++r){e[r]=new Array(t);for(var n=0;n<t;++n)e[r][n]=["m",n,"[",t-r-1,"]"].join("")}return e}(t),c=[],p=0;p<t;++p)0==(1&p)?e.push.apply(e,f(l(s,p))):r.push.apply(r,f(l(s,p))),c.push("m"+p);var h=u(e),d=u(r),g="orientation"+t+"Exact",v=["function ",g,"(",c.join(),"){var p=",h,",n=",d,",d=sub(p,n);return d[d.length-1];};return ",g].join("");return new Function("sum","prod","scale","sub",v)(a,n,i,o)}var p=c(3),h=c(4),d=[function(){return 0},function(){return 0},function(t,e){return e[0]-t[0]},function(t,e,r){var n,a=(t[1]-r[1])*(e[0]-r[0]),i=(t[0]-r[0])*(e[1]-r[1]),o=a-i;if(a>0){if(i<=0)return o;n=a+i}else{if(!(a<0))return o;if(i>=0)return o;n=-(a+i)}var s=3.3306690738754716e-16*n;return o>=s||o<=-s?o:p(t,e,r)},function(t,e,r,n){var a=t[0]-n[0],i=e[0]-n[0],o=r[0]-n[0],s=t[1]-n[1],l=e[1]-n[1],u=r[1]-n[1],f=t[2]-n[2],c=e[2]-n[2],p=r[2]-n[2],d=i*u,g=o*l,v=o*s,m=a*u,b=a*l,y=i*s,M=f*(d-g)+c*(v-m)+p*(b-y),w=7.771561172376103e-16*((Math.abs(d)+Math.abs(g))*Math.abs(f)+(Math.abs(v)+Math.abs(m))*Math.abs(c)+(Math.abs(b)+Math.abs(y))*Math.abs(p));return M>w||-M>w?M:h(t,e,r,n)}];!function(){for(;d.length<=s;)d.push(c(d.length));for(var e=[],r=["slow"],n=0;n<=s;++n)e.push("a"+n),r.push("o"+n);var a=["function getOrientation(",e.join(),"){switch(arguments.length){case 0:case 1:return 0;"];for(n=2;n<=s;++n)a.push("case ",n,":return o",n,"(",e.slice(0,n).join(),");");a.push("}var s=new Array(arguments.length);for(var i=0;i<arguments.length;++i){s[i]=arguments[i]};return slow(s);}return getOrientation"),r.push(a.join(""));var i=Function.apply(void 0,r);for(t.exports=i.apply(void 0,[function(t){var e=d[t.length];return e||(e=d[t.length]=c(t.length)),e.apply(void 0,t)}].concat(d)),n=0;n<=s;++n)t.exports[n]=d[n]}()},function(t,e,r){t.exports=function(t,e){for(var r=e[0],a=e[1],i=t.length,o=1,s=i,l=0,u=i-1;l<s;u=l++){var f=t[l],c=t[u],p=f[1],h=c[1];if(h<p){if(h<a&&a<p){var d=n(f,c,e);if(0===d)return 0;o^=0<d|0}else if(a===p){var g=t[(l+1)%i],v=g[1];if(p<v){var d=n(f,c,e);if(0===d)return 0;o^=0<d|0}}}else if(p<h){if(p<a&&a<h){var d=n(f,c,e);if(0===d)return 0;o^=d<0|0}else if(a===p){var g=t[(l+1)%i],v=g[1];if(v<p){var d=n(f,c,e);if(0===d)return 0;o^=d<0|0}}}else if(a===p){var m=Math.min(f[0],c[0]),b=Math.max(f[0],c[0]);if(0===l){for(;u>0;){var y=(u+i-1)%i,M=t[y];if(M[1]!==a)break;var w=M[0];m=Math.min(m,w),b=Math.max(b,w),u=y}if(0===u)return m<=r&&r<=b?0:1;s=u+1}for(var x=t[(u+i-1)%i][1];l+1<s;){var M=t[l+1];if(M[1]!==a)break;var w=M[0];m=Math.min(m,w),b=Math.max(b,w),l+=1}if(m<=r&&r<=b)return 0;var j=t[(l+1)%i][1];r<m&&x<a!=j<a&&(o^=1)}}return 2*o-1};var n=r(5)},function(t,e,r){var n={region:{title:"Регион",items:[{id:"001",title:"Страны мира"},{id:"BY",title:"Беларусь"},{id:"KZ",title:"Казахстан"},{id:"RU",title:"Россия"},{id:"TR",title:"Турция"},{id:"UA",title:"Украина"}]},lang:{title:"Язык",items:[{id:"en",title:"Английский"},{id:"be",title:"Белорусский"},{id:"kk",title:"Казахский"},{id:"ru",title:"Русский"},{id:"tr",title:"Турецкий"},{id:"uk",title:"Украинский"}]},quality:{title:"Точность границ",items:[{id:"0",title:"0"},{id:"1",title:"1"},{id:"2",title:"2"},{id:"3",title:"3"}]}},a=['<div style="line-height: 34px; visibility: hidden; background-color: #80808080;" id="regions-params">',"{% for paramName, param in data.params %}","{% for key, value in state.values %}","{% if key == paramName %}",'<div class="btn-group btn-group-xs">','<button{% if state.enabled %}{% else %} disabled{% endif %} type="button" class="btn btn-primary dropdown-toggle" data-toggle="dropdown">',"<span>{{ param.title }}</span>",'<span class="value">: {{ value }}</span>','&nbsp;<span class="caret"></span>',"</button>",'<ul class="dropdown-menu {{ paramName }}">',"{% for item in param.items %}",'<li{% if item.id == value %} class="active"{% endif %}>','<a id="regions" href="#" data-param="{{ paramName }}" data-id="{{ item.id }}">',"{{ item.title }}","</a>","</li>","{% endfor %}","</ul>","</div>&nbsp;","{% endif %}","{% endfor %}","{% endfor %}","</div>"].join(""),i=[];$.ajax("data/hotels.json",{success:function(t){(i=t).features.length/=4,ymaps.ready(s)}});var o=r(6);function s(){var t=ymaps.templateLayoutFactory.createClass(a,{build:function(){t.superclass.build.call(this),this.handleClick=ymaps.util.bind(this.handleClick,this),$(this.getParentElement).on("click","a#regions",this.handleClick)},clear:function(){$(this.getParentElement).off("click","a#regions",this.handleClick),t.superclass.clear.call(this)},handleClick:function(t){t.preventDefault();var e=$(t.currentTarget),r=this.getData().state,n=ymaps.util.extend({},r.get("values"));e.hasClass("active")||(n[e.data("param")]=e.data("id"),r.set("values",n))}}),e=ymaps.util.defineClass(function(t){e.superclass.constructor.call(this,t)},ymaps.control.Button,{onAddToMap:function(t){e.superclass.onAddToMap.call(this,t),this.setupStateMonitor(),this.loadRegions(this.state.get("values"))},onRemoveFromMap:function(t){t.geoObjects.remove(this.regions),this.clearStateMonitor(),e.superclass.onRemoveFromMap.call(this,t)},setupStateMonitor:function(){this.stateMonitor=new ymaps.Monitor(this.state),this.stateMonitor.add("values",this.handleStateChange,this)},clearStateMonitor:function(){this.stateMonitor.removeAll()},handleStateChange:function(t){this.loadRegions(t)},handleRegionsLoaded:function(t){this.regions&&r.geoObjects.remove(this.regions),jQuery(".legend-gradient").css("background","linear-gradient(to bottom, rgba(100, 0, 100, 1), rgba(255, 150, 100, 1))");for(var e=performance.now(),n=t.features.length,a=i.features.length,s=0,l=0,u=0,f=0;f<n;f++){t.features[f].properties.pointsNumber=0;for(var c=0;c<t.features[f].geometry.coordinates.length;c++){s++;for(var p=0;p<i.features.length;p++)u++,1!==o(t.features[f].geometry.coordinates[c],i.features[p].geometry.coordinates.reverse())&&(t.features[f].properties.pointsNumber++,l++,i.features.splice(p--,1))}}var h=performance.now()-e;console.log("Кол-во итераций "+u),console.log("Кол-во полигонов "+s),console.log("Кол-во точек "+a),console.log("Время работы скрипта "+h.toFixed(2)+" ms"),console.log(" "),console.log("Всего в границы России попало "+l+" точек."),console.log(" ");var d=0;for(f=0;f<n;f++){var g=t.features[f].properties.pointsNumber;d<g&&(d=g),t.features[f].properties.pointsNumber>0&&console.log(t.features[f].properties.name+" "+g+" отелей.")}l=d,this.regions=new ymaps.ObjectManager,this.regions.add(t.features.map(function(t,e){var r=355-(100+Math.floor(155*t.properties.pointsNumber/l)),n=150-Math.floor(150*t.properties.pointsNumber/l),a=t.properties.pointsNumber?.9:.1;return t.options={fillColor:"rgba("+r+", "+n+", 100, "+a+")"},t.id=t.properties.iso3166,t})),r.geoObjects.add(this.regions),this.getMap().setBounds(this.regions.getBounds(),{checkZoomRange:!0})},loadRegions:function(t){return this.disable(),ymaps.borders.load(t.region,t).then(this.handleRegionsLoaded,this).always(this.enable,this)}}),r=new ymaps.Map("map",{center:[50,30],zoom:3,controls:["typeSelector"]},{typeSelectorSize:"small"}),s=new e({state:{enabled:!0,values:{region:"RU",lang:"ru",quality:"1"}},data:{params:n},options:{layout:t},float:"left",maxWidth:[300]});r.controls.add(s),s.events.add("statechange",function(t){console.log(t.get("target").get("values"))})}}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3R3by1wcm9kdWN0L3R3by1wcm9kdWN0LmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9yb2J1c3Qtc3VidHJhY3Qvcm9idXN0LWRpZmYuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3R3by1zdW0vdHdvLXN1bS5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcm9idXN0LXNjYWxlL3JvYnVzdC1zY2FsZS5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcm9idXN0LXN1bS9yb2J1c3Qtc3VtLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9yb2J1c3Qtb3JpZW50YXRpb24vb3JpZW50YXRpb24uanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3JvYnVzdC1wb2ludC1pbi1wb2x5Z29uL3JvYnVzdC1wbnAuanMiLCJ3ZWJwYWNrOi8vLy4vaW5kZXguanMiXSwibmFtZXMiOlsiaW5zdGFsbGVkTW9kdWxlcyIsIl9fd2VicGFja19yZXF1aXJlX18iLCJtb2R1bGVJZCIsImV4cG9ydHMiLCJtb2R1bGUiLCJpIiwibCIsIm1vZHVsZXMiLCJjYWxsIiwibSIsImMiLCJkIiwibmFtZSIsImdldHRlciIsIm8iLCJPYmplY3QiLCJkZWZpbmVQcm9wZXJ0eSIsImNvbmZpZ3VyYWJsZSIsImVudW1lcmFibGUiLCJnZXQiLCJyIiwidmFsdWUiLCJuIiwiX19lc01vZHVsZSIsIm9iamVjdCIsInByb3BlcnR5IiwicHJvdG90eXBlIiwiaGFzT3duUHJvcGVydHkiLCJwIiwicyIsImEiLCJiIiwicmVzdWx0IiwieCIsIlNQTElUVEVSIiwiYWhpIiwiYWxvIiwiYmhpIiwiYmxvIiwieSIsIk1hdGgiLCJwb3ciLCJlIiwiZiIsIm5lIiwibGVuZ3RoIiwibmYiLCJidiIsInNjYWxhclNjYWxhciIsImciLCJBcnJheSIsImNvdW50IiwiZXB0ciIsImZwdHIiLCJhYnMiLCJlaSIsImVhIiwiZmkiLCJmYSIsIl94IiwiX2J2IiwicTAiLCJxMSIsImJyIiwiYXIiLCJ0d29Qcm9kdWN0IiwidHdvU3VtIiwic2NhbGUiLCJ0cyIsInEiLCJ0IiwicHEiLCJyb2J1c3RTdW0iLCJyb2J1c3RTY2FsZSIsInJvYnVzdFN1YnRyYWN0IiwiTlVNX0VYUEFORCIsImNvZmFjdG9yIiwiaiIsImsiLCJnZW5lcmF0ZVN1bSIsImV4cHIiLCJqb2luIiwic2xpY2UiLCJkZXRlcm1pbmFudCIsInB1c2giLCJvcmllbnRhdGlvbiIsInBvcyIsIm5lZyIsIm1hdHJpeCIsImFyZ3MiLCJhcHBseSIsInBvc0V4cHIiLCJuZWdFeHByIiwiZnVuY05hbWUiLCJjb2RlIiwiRnVuY3Rpb24iLCJwcm9jIiwib3JpZW50YXRpb24zRXhhY3QiLCJvcmllbnRhdGlvbjRFeGFjdCIsIkNBQ0hFRCIsImRldCIsInRvbCIsImFkeCIsImJkeCIsImNkeCIsImFkeSIsImJkeSIsImNkeSIsImFkeiIsImJkeiIsImNkeiIsImJkeGNkeSIsImNkeGJkeSIsImNkeGFkeSIsImFkeGNkeSIsImFkeGJkeSIsImJkeGFkeSIsInByb2NBcmdzIiwidW5kZWZpbmVkIiwiY29uY2F0IiwiZ2VuZXJhdGVPcmllbnRhdGlvblByb2MiLCJ2cyIsInBvaW50IiwiaW5zaWRlIiwibGltIiwieWkiLCJ5aiIsIm9yaWVudCIsInlrIiwieDAiLCJtaW4iLCJ4MSIsIm1heCIsInB4IiwieTAiLCJ5MSIsIlJFR0lPTlNfREFUQSIsInJlZ2lvbiIsInRpdGxlIiwiaXRlbXMiLCJpZCIsImxhbmciLCJxdWFsaXR5Iiwib3B0aW9uc1RlbXBsYXRlIiwiaG90ZWxzIiwiJCIsImFqYXgiLCJzdWNjZXNzIiwiZGF0YSIsImZlYXR1cmVzIiwieW1hcHMiLCJyZWFkeSIsImluaXQiLCJjbGFzc2lmeVBvaW50IiwiUmVnaW9uQ29udHJvbExheW91dCIsInRlbXBsYXRlTGF5b3V0RmFjdG9yeSIsImNyZWF0ZUNsYXNzIiwiYnVpbGQiLCJzdXBlcmNsYXNzIiwidGhpcyIsImhhbmRsZUNsaWNrIiwidXRpbCIsImJpbmQiLCJnZXRQYXJlbnRFbGVtZW50Iiwib24iLCJjbGVhciIsIm9mZiIsInByZXZlbnREZWZhdWx0IiwiJHRhcmdldCIsImN1cnJlbnRUYXJnZXQiLCJzdGF0ZSIsImdldERhdGEiLCJuZXdWYWx1ZXMiLCJleHRlbmQiLCJoYXNDbGFzcyIsInNldCIsIlJlZ2lvbkNvbnRyb2wiLCJkZWZpbmVDbGFzcyIsInBhcmFtZXRlcnMiLCJjb25zdHJ1Y3RvciIsImNvbnRyb2wiLCJCdXR0b24iLCJvbkFkZFRvTWFwIiwibWFwIiwic2V0dXBTdGF0ZU1vbml0b3IiLCJsb2FkUmVnaW9ucyIsIm9uUmVtb3ZlRnJvbU1hcCIsImdlb09iamVjdHMiLCJyZW1vdmUiLCJyZWdpb25zIiwiY2xlYXJTdGF0ZU1vbml0b3IiLCJzdGF0ZU1vbml0b3IiLCJNb25pdG9yIiwiYWRkIiwiaGFuZGxlU3RhdGVDaGFuZ2UiLCJyZW1vdmVBbGwiLCJwYXJhbXMiLCJoYW5kbGVSZWdpb25zTG9hZGVkIiwicmVzIiwialF1ZXJ5IiwiY3NzIiwidDAiLCJwZXJmb3JtYW5jZSIsIm5vdyIsIm51bWJlck9mRmVhdHVyZXMiLCJudW1iZXJPZkhvdGVscyIsIm51bWJlck9mQWxsUG9seWdvbnMiLCJob3RlbHNJblJ1c3NpYSIsIml0ZXJhdGlvbnNDb3VudCIsInByb3BlcnRpZXMiLCJnZW9tZXRyeSIsImNvb3JkaW5hdGVzIiwicmV2ZXJzZSIsInNwbGljZSIsInNjcmlwdFRpbWUiLCJjb25zb2xlIiwibG9nIiwidG9GaXhlZCIsImxvY2FsTWF4aW11bSIsIm51bSIsIk9iamVjdE1hbmFnZXIiLCJmZWF0dXJlIiwiUiIsImZsb29yIiwiRyIsImFscGhhIiwib3B0aW9ucyIsImZpbGxDb2xvciIsImlzbzMxNjYiLCJnZXRNYXAiLCJzZXRCb3VuZHMiLCJnZXRCb3VuZHMiLCJjaGVja1pvb21SYW5nZSIsImRpc2FibGUiLCJib3JkZXJzIiwibG9hZCIsInRoZW4iLCJhbHdheXMiLCJlbmFibGUiLCJNYXAiLCJjZW50ZXIiLCJ6b29tIiwiY29udHJvbHMiLCJ0eXBlU2VsZWN0b3JTaXplIiwicmVnaW9uQ29udHJvbCIsImVuYWJsZWQiLCJ2YWx1ZXMiLCJsYXlvdXQiLCJmbG9hdCIsIm1heFdpZHRoIiwiZXZlbnRzIl0sIm1hcHBpbmdzIjoiYUFDQSxJQUFBQSxLQUdBLFNBQUFDLEVBQUFDLEdBR0EsR0FBQUYsRUFBQUUsR0FDQSxPQUFBRixFQUFBRSxHQUFBQyxRQUdBLElBQUFDLEVBQUFKLEVBQUFFLElBQ0FHLEVBQUFILEVBQ0FJLEdBQUEsRUFDQUgsWUFVQSxPQU5BSSxFQUFBTCxHQUFBTSxLQUFBSixFQUFBRCxRQUFBQyxJQUFBRCxRQUFBRixHQUdBRyxFQUFBRSxHQUFBLEVBR0FGLEVBQUFELFFBS0FGLEVBQUFRLEVBQUFGLEVBR0FOLEVBQUFTLEVBQUFWLEVBR0FDLEVBQUFVLEVBQUEsU0FBQVIsRUFBQVMsRUFBQUMsR0FDQVosRUFBQWEsRUFBQVgsRUFBQVMsSUFDQUcsT0FBQUMsZUFBQWIsRUFBQVMsR0FDQUssY0FBQSxFQUNBQyxZQUFBLEVBQ0FDLElBQUFOLEtBTUFaLEVBQUFtQixFQUFBLFNBQUFqQixHQUNBWSxPQUFBQyxlQUFBYixFQUFBLGNBQWlEa0IsT0FBQSxLQUlqRHBCLEVBQUFxQixFQUFBLFNBQUFsQixHQUNBLElBQUFTLEVBQUFULEtBQUFtQixXQUNBLFdBQTJCLE9BQUFuQixFQUFBLFNBQzNCLFdBQWlDLE9BQUFBLEdBRWpDLE9BREFILEVBQUFVLEVBQUFFLEVBQUEsSUFBQUEsR0FDQUEsR0FJQVosRUFBQWEsRUFBQSxTQUFBVSxFQUFBQyxHQUFzRCxPQUFBVixPQUFBVyxVQUFBQyxlQUFBbkIsS0FBQWdCLEVBQUFDLElBR3REeEIsRUFBQTJCLEVBQUEsR0FJQTNCLElBQUE0QixFQUFBLGtDQ2pFQXpCLEVBQUFELFFBSUEsU0FBQTJCLEVBQUFDLEVBQUFDLEdBQ0EsSUFBQUMsRUFBQUgsRUFBQUMsRUFFQXJCLEVBQUF3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QSxTQUFBc0MsRUFBQXhOLEdBSUEsSUFBQXlOLEVBQUEsU0FBQXRMLEtBQUF1TCxNQUFBLElBQUFGLEVBQUFaLFdBQUEsYUFBQUYsSUFDQWlCLEVBQUEsSUFBQXhMLEtBQUF1TCxNQUFBLElBQUFGLEVBQUFaLFdBQUEsYUFBQUYsR0FFQWtCLEVBQUFKLEVBQUFaLFdBQUEsbUJBTUEsT0FKQVksRUFBQUssU0FBMkNDLFVBQUEsUUFBQUwsRUFBQSxLQUFBRSxFQUFBLFVBQUFDLEVBQUEsS0FHM0NKLEVBQUFqRixHQUFBaUYsRUFBQVosV0FBQW1CLFFBQ0FQLEtBR0F0QyxFQUFBSSxXQUFBTSxJQUFBbEMsS0FBQThCLFNBQ0E5QixLQUFBc0UsU0FBQUMsVUFDQXZFLEtBQUE4QixRQUFBMEMsYUFDcUJDLGdCQUFBLEtBSXJCL0MsWUFBQSxTQUFBVyxHQUVBLE9BREFyQyxLQUFBMEUsVUFDQW5GLE1BQUFvRixRQUFBQyxLQUFBdkMsRUFBQTNELE9BQUEyRCxHQUNBd0MsS0FBQTdFLEtBQUFzQyxvQkFBQXRDLE1BQ0E4RSxPQUFBOUUsS0FBQStFLE9BQUEvRSxTQUlBd0IsRUFBQSxJQUFBakMsTUFBQXlGLElBQUEsT0FDQUMsUUFBQSxPQUNBQyxLQUFBLEVBQ0FDLFVBQUEsa0JBRUFDLGlCQUFBLFVBSUFDLEVBQUEsSUFBQXBFLEdBQ0FOLE9BQ0EyRSxTQUFBLEVBQ0FDLFFBQ0E3RyxPQUFBLEtBQ0FJLEtBQUEsS0FDQUMsUUFBQSxNQUdBTSxNQUNBZ0QsT0FBQTVELEdBRUEwRixTQUNBcUIsT0FBQTdGLEdBRUE4RixNQUFBLE9BQ0FDLFVBQUEsT0FJQWxFLEVBQUEyRCxTQUFBakQsSUFBQW1ELEdBRUFBLEVBQUFNLE9BQUF6RCxJQUFBLHVCQUFBdkosR0FDQTZLLFFBQUFDLElBQUE5SyxFQUFBdkIsSUFBQSxVQUFBQSxJQUFBIiwiZmlsZSI6Im1haW4uYnVuZGxlLmpzIiwic291cmNlc0NvbnRlbnQiOlsiIFx0Ly8gVGhlIG1vZHVsZSBjYWNoZVxuIFx0dmFyIGluc3RhbGxlZE1vZHVsZXMgPSB7fTtcblxuIFx0Ly8gVGhlIHJlcXVpcmUgZnVuY3Rpb25cbiBcdGZ1bmN0aW9uIF9fd2VicGFja19yZXF1aXJlX18obW9kdWxlSWQpIHtcblxuIFx0XHQvLyBDaGVjayBpZiBtb2R1bGUgaXMgaW4gY2FjaGVcbiBcdFx0aWYoaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0pIHtcbiBcdFx0XHRyZXR1cm4gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0uZXhwb3J0cztcbiBcdFx0fVxuIFx0XHQvLyBDcmVhdGUgYSBuZXcgbW9kdWxlIChhbmQgcHV0IGl0IGludG8gdGhlIGNhY2hlKVxuIFx0XHR2YXIgbW9kdWxlID0gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0gPSB7XG4gXHRcdFx0aTogbW9kdWxlSWQsXG4gXHRcdFx0bDogZmFsc2UsXG4gXHRcdFx0ZXhwb3J0czoge31cbiBcdFx0fTtcblxuIFx0XHQvLyBFeGVjdXRlIHRoZSBtb2R1bGUgZnVuY3Rpb25cbiBcdFx0bW9kdWxlc1ttb2R1bGVJZF0uY2FsbChtb2R1bGUuZXhwb3J0cywgbW9kdWxlLCBtb2R1bGUuZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXyk7XG5cbiBcdFx0Ly8gRmxhZyB0aGUgbW9kdWxlIGFzIGxvYWRlZFxuIFx0XHRtb2R1bGUubCA9IHRydWU7XG5cbiBcdFx0Ly8gUmV0dXJuIHRoZSBleHBvcnRzIG9mIHRoZSBtb2R1bGVcbiBcdFx0cmV0dXJuIG1vZHVsZS5leHBvcnRzO1xuIFx0fVxuXG5cbiBcdC8vIGV4cG9zZSB0aGUgbW9kdWxlcyBvYmplY3QgKF9fd2VicGFja19tb2R1bGVzX18pXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm0gPSBtb2R1bGVzO1xuXG4gXHQvLyBleHBvc2UgdGhlIG1vZHVsZSBjYWNoZVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5jID0gaW5zdGFsbGVkTW9kdWxlcztcblxuIFx0Ly8gZGVmaW5lIGdldHRlciBmdW5jdGlvbiBmb3IgaGFybW9ueSBleHBvcnRzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmQgPSBmdW5jdGlvbihleHBvcnRzLCBuYW1lLCBnZXR0ZXIpIHtcbiBcdFx0aWYoIV9fd2VicGFja19yZXF1aXJlX18ubyhleHBvcnRzLCBuYW1lKSkge1xuIFx0XHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBuYW1lLCB7XG4gXHRcdFx0XHRjb25maWd1cmFibGU6IGZhbHNlLFxuIFx0XHRcdFx0ZW51bWVyYWJsZTogdHJ1ZSxcbiBcdFx0XHRcdGdldDogZ2V0dGVyXG4gXHRcdFx0fSk7XG4gXHRcdH1cbiBcdH07XG5cbiBcdC8vIGRlZmluZSBfX2VzTW9kdWxlIG9uIGV4cG9ydHNcbiBcdF9fd2VicGFja19yZXF1aXJlX18uciA9IGZ1bmN0aW9uKGV4cG9ydHMpIHtcbiBcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICdfX2VzTW9kdWxlJywgeyB2YWx1ZTogdHJ1ZSB9KTtcbiBcdH07XG5cbiBcdC8vIGdldERlZmF1bHRFeHBvcnQgZnVuY3Rpb24gZm9yIGNvbXBhdGliaWxpdHkgd2l0aCBub24taGFybW9ueSBtb2R1bGVzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm4gPSBmdW5jdGlvbihtb2R1bGUpIHtcbiBcdFx0dmFyIGdldHRlciA9IG1vZHVsZSAmJiBtb2R1bGUuX19lc01vZHVsZSA/XG4gXHRcdFx0ZnVuY3Rpb24gZ2V0RGVmYXVsdCgpIHsgcmV0dXJuIG1vZHVsZVsnZGVmYXVsdCddOyB9IDpcbiBcdFx0XHRmdW5jdGlvbiBnZXRNb2R1bGVFeHBvcnRzKCkgeyByZXR1cm4gbW9kdWxlOyB9O1xuIFx0XHRfX3dlYnBhY2tfcmVxdWlyZV9fLmQoZ2V0dGVyLCAnYScsIGdldHRlcik7XG4gXHRcdHJldHVybiBnZXR0ZXI7XG4gXHR9O1xuXG4gXHQvLyBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGxcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubyA9IGZ1bmN0aW9uKG9iamVjdCwgcHJvcGVydHkpIHsgcmV0dXJuIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmplY3QsIHByb3BlcnR5KTsgfTtcblxuIFx0Ly8gX193ZWJwYWNrX3B1YmxpY19wYXRoX19cbiBcdF9fd2VicGFja19yZXF1aXJlX18ucCA9IFwiXCI7XG5cblxuIFx0Ly8gTG9hZCBlbnRyeSBtb2R1bGUgYW5kIHJldHVybiBleHBvcnRzXG4gXHRyZXR1cm4gX193ZWJwYWNrX3JlcXVpcmVfXyhfX3dlYnBhY2tfcmVxdWlyZV9fLnMgPSA3KTtcbiIsIlwidXNlIHN0cmljdFwiXG5cbm1vZHVsZS5leHBvcnRzID0gdHdvUHJvZHVjdFxuXG52YXIgU1BMSVRURVIgPSArKE1hdGgucG93KDIsIDI3KSArIDEuMClcblxuZnVuY3Rpb24gdHdvUHJvZHVjdChhLCBiLCByZXN1bHQpIHtcbiAgdmFyIHggPSBhICogYlxuXG4gIHZhciBjID0gU1BMSVRURVIgKiBhXG4gIHZhciBhYmlnID0gYyAtIGFcbiAgdmFyIGFoaSA9IGMgLSBhYmlnXG4gIHZhciBhbG8gPSBhIC0gYWhpXG5cbiAgdmFyIGQgPSBTUExJVFRFUiAqIGJcbiAgdmFyIGJiaWcgPSBkIC0gYlxuICB2YXIgYmhpID0gZCAtIGJiaWdcbiAgdmFyIGJsbyA9IGIgLSBiaGlcblxuICB2YXIgZXJyMSA9IHggLSAoYWhpICogYmhpKVxuICB2YXIgZXJyMiA9IGVycjEgLSAoYWxvICogYmhpKVxuICB2YXIgZXJyMyA9IGVycjIgLSAoYWhpICogYmxvKVxuXG4gIHZhciB5ID0gYWxvICogYmxvIC0gZXJyM1xuXG4gIGlmKHJlc3VsdCkge1xuICAgIHJlc3VsdFswXSA9IHlcbiAgICByZXN1bHRbMV0gPSB4XG4gICAgcmV0dXJuIHJlc3VsdFxuICB9XG5cbiAgcmV0dXJuIFsgeSwgeCBdXG59IiwiXCJ1c2Ugc3RyaWN0XCJcblxubW9kdWxlLmV4cG9ydHMgPSByb2J1c3RTdWJ0cmFjdFxuXG4vL0Vhc3kgY2FzZTogQWRkIHR3byBzY2FsYXJzXG5mdW5jdGlvbiBzY2FsYXJTY2FsYXIoYSwgYikge1xuICB2YXIgeCA9IGEgKyBiXG4gIHZhciBidiA9IHggLSBhXG4gIHZhciBhdiA9IHggLSBidlxuICB2YXIgYnIgPSBiIC0gYnZcbiAgdmFyIGFyID0gYSAtIGF2XG4gIHZhciB5ID0gYXIgKyBiclxuICBpZih5KSB7XG4gICAgcmV0dXJuIFt5LCB4XVxuICB9XG4gIHJldHVybiBbeF1cbn1cblxuZnVuY3Rpb24gcm9idXN0U3VidHJhY3QoZSwgZikge1xuICB2YXIgbmUgPSBlLmxlbmd0aHwwXG4gIHZhciBuZiA9IGYubGVuZ3RofDBcbiAgaWYobmUgPT09IDEgJiYgbmYgPT09IDEpIHtcbiAgICByZXR1cm4gc2NhbGFyU2NhbGFyKGVbMF0sIC1mWzBdKVxuICB9XG4gIHZhciBuID0gbmUgKyBuZlxuICB2YXIgZyA9IG5ldyBBcnJheShuKVxuICB2YXIgY291bnQgPSAwXG4gIHZhciBlcHRyID0gMFxuICB2YXIgZnB0ciA9IDBcbiAgdmFyIGFicyA9IE1hdGguYWJzXG4gIHZhciBlaSA9IGVbZXB0cl1cbiAgdmFyIGVhID0gYWJzKGVpKVxuICB2YXIgZmkgPSAtZltmcHRyXVxuICB2YXIgZmEgPSBhYnMoZmkpXG4gIHZhciBhLCBiXG4gIGlmKGVhIDwgZmEpIHtcbiAgICBiID0gZWlcbiAgICBlcHRyICs9IDFcbiAgICBpZihlcHRyIDwgbmUpIHtcbiAgICAgIGVpID0gZVtlcHRyXVxuICAgICAgZWEgPSBhYnMoZWkpXG4gICAgfVxuICB9IGVsc2Uge1xuICAgIGIgPSBmaVxuICAgIGZwdHIgKz0gMVxuICAgIGlmKGZwdHIgPCBuZikge1xuICAgICAgZmkgPSAtZltmcHRyXVxuICAgICAgZmEgPSBhYnMoZmkpXG4gICAgfVxuICB9XG4gIGlmKChlcHRyIDwgbmUgJiYgZWEgPCBmYSkgfHwgKGZwdHIgPj0gbmYpKSB7XG4gICAgYSA9IGVpXG4gICAgZXB0ciArPSAxXG4gICAgaWYoZXB0ciA8IG5lKSB7XG4gICAgICBlaSA9IGVbZXB0cl1cbiAgICAgIGVhID0gYWJzKGVpKVxuICAgIH1cbiAgfSBlbHNlIHtcbiAgICBhID0gZmlcbiAgICBmcHRyICs9IDFcbiAgICBpZihmcHRyIDwgbmYpIHtcbiAgICAgIGZpID0gLWZbZnB0cl1cbiAgICAgIGZhID0gYWJzKGZpKVxuICAgIH1cbiAgfVxuICB2YXIgeCA9IGEgKyBiXG4gIHZhciBidiA9IHggLSBhXG4gIHZhciB5ID0gYiAtIGJ2XG4gIHZhciBxMCA9IHlcbiAgdmFyIHExID0geFxuICB2YXIgX3gsIF9idiwgX2F2LCBfYnIsIF9hclxuICB3aGlsZShlcHRyIDwgbmUgJiYgZnB0ciA8IG5mKSB7XG4gICAgaWYoZWEgPCBmYSkge1xuICAgICAgYSA9IGVpXG4gICAgICBlcHRyICs9IDFcbiAgICAgIGlmKGVwdHIgPCBuZSkge1xuICAgICAgICBlaSA9IGVbZXB0cl1cbiAgICAgICAgZWEgPSBhYnMoZWkpXG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIGEgPSBmaVxuICAgICAgZnB0ciArPSAxXG4gICAgICBpZihmcHRyIDwgbmYpIHtcbiAgICAgICAgZmkgPSAtZltmcHRyXVxuICAgICAgICBmYSA9IGFicyhmaSlcbiAgICAgIH1cbiAgICB9XG4gICAgYiA9IHEwXG4gICAgeCA9IGEgKyBiXG4gICAgYnYgPSB4IC0gYVxuICAgIHkgPSBiIC0gYnZcbiAgICBpZih5KSB7XG4gICAgICBnW2NvdW50KytdID0geVxuICAgIH1cbiAgICBfeCA9IHExICsgeFxuICAgIF9idiA9IF94IC0gcTFcbiAgICBfYXYgPSBfeCAtIF9idlxuICAgIF9iciA9IHggLSBfYnZcbiAgICBfYXIgPSBxMSAtIF9hdlxuICAgIHEwID0gX2FyICsgX2JyXG4gICAgcTEgPSBfeFxuICB9XG4gIHdoaWxlKGVwdHIgPCBuZSkge1xuICAgIGEgPSBlaVxuICAgIGIgPSBxMFxuICAgIHggPSBhICsgYlxuICAgIGJ2ID0geCAtIGFcbiAgICB5ID0gYiAtIGJ2XG4gICAgaWYoeSkge1xuICAgICAgZ1tjb3VudCsrXSA9IHlcbiAgICB9XG4gICAgX3ggPSBxMSArIHhcbiAgICBfYnYgPSBfeCAtIHExXG4gICAgX2F2ID0gX3ggLSBfYnZcbiAgICBfYnIgPSB4IC0gX2J2XG4gICAgX2FyID0gcTEgLSBfYXZcbiAgICBxMCA9IF9hciArIF9iclxuICAgIHExID0gX3hcbiAgICBlcHRyICs9IDFcbiAgICBpZihlcHRyIDwgbmUpIHtcbiAgICAgIGVpID0gZVtlcHRyXVxuICAgIH1cbiAgfVxuICB3aGlsZShmcHRyIDwgbmYpIHtcbiAgICBhID0gZmlcbiAgICBiID0gcTBcbiAgICB4ID0gYSArIGJcbiAgICBidiA9IHggLSBhXG4gICAgeSA9IGIgLSBidlxuICAgIGlmKHkpIHtcbiAgICAgIGdbY291bnQrK10gPSB5XG4gICAgfSBcbiAgICBfeCA9IHExICsgeFxuICAgIF9idiA9IF94IC0gcTFcbiAgICBfYXYgPSBfeCAtIF9idlxuICAgIF9iciA9IHggLSBfYnZcbiAgICBfYXIgPSBxMSAtIF9hdlxuICAgIHEwID0gX2FyICsgX2JyXG4gICAgcTEgPSBfeFxuICAgIGZwdHIgKz0gMVxuICAgIGlmKGZwdHIgPCBuZikge1xuICAgICAgZmkgPSAtZltmcHRyXVxuICAgIH1cbiAgfVxuICBpZihxMCkge1xuICAgIGdbY291bnQrK10gPSBxMFxuICB9XG4gIGlmKHExKSB7XG4gICAgZ1tjb3VudCsrXSA9IHExXG4gIH1cbiAgaWYoIWNvdW50KSB7XG4gICAgZ1tjb3VudCsrXSA9IDAuMCAgXG4gIH1cbiAgZy5sZW5ndGggPSBjb3VudFxuICByZXR1cm4gZ1xufSIsIlwidXNlIHN0cmljdFwiXG5cbm1vZHVsZS5leHBvcnRzID0gZmFzdFR3b1N1bVxuXG5mdW5jdGlvbiBmYXN0VHdvU3VtKGEsIGIsIHJlc3VsdCkge1xuXHR2YXIgeCA9IGEgKyBiXG5cdHZhciBidiA9IHggLSBhXG5cdHZhciBhdiA9IHggLSBidlxuXHR2YXIgYnIgPSBiIC0gYnZcblx0dmFyIGFyID0gYSAtIGF2XG5cdGlmKHJlc3VsdCkge1xuXHRcdHJlc3VsdFswXSA9IGFyICsgYnJcblx0XHRyZXN1bHRbMV0gPSB4XG5cdFx0cmV0dXJuIHJlc3VsdFxuXHR9XG5cdHJldHVybiBbYXIrYnIsIHhdXG59IiwiXCJ1c2Ugc3RyaWN0XCJcblxudmFyIHR3b1Byb2R1Y3QgPSByZXF1aXJlKFwidHdvLXByb2R1Y3RcIilcbnZhciB0d29TdW0gPSByZXF1aXJlKFwidHdvLXN1bVwiKVxuXG5tb2R1bGUuZXhwb3J0cyA9IHNjYWxlTGluZWFyRXhwYW5zaW9uXG5cbmZ1bmN0aW9uIHNjYWxlTGluZWFyRXhwYW5zaW9uKGUsIHNjYWxlKSB7XG4gIHZhciBuID0gZS5sZW5ndGhcbiAgaWYobiA9PT0gMSkge1xuICAgIHZhciB0cyA9IHR3b1Byb2R1Y3QoZVswXSwgc2NhbGUpXG4gICAgaWYodHNbMF0pIHtcbiAgICAgIHJldHVybiB0c1xuICAgIH1cbiAgICByZXR1cm4gWyB0c1sxXSBdXG4gIH1cbiAgdmFyIGcgPSBuZXcgQXJyYXkoMiAqIG4pXG4gIHZhciBxID0gWzAuMSwgMC4xXVxuICB2YXIgdCA9IFswLjEsIDAuMV1cbiAgdmFyIGNvdW50ID0gMFxuICB0d29Qcm9kdWN0KGVbMF0sIHNjYWxlLCBxKVxuICBpZihxWzBdKSB7XG4gICAgZ1tjb3VudCsrXSA9IHFbMF1cbiAgfVxuICBmb3IodmFyIGk9MTsgaTxuOyArK2kpIHtcbiAgICB0d29Qcm9kdWN0KGVbaV0sIHNjYWxlLCB0KVxuICAgIHZhciBwcSA9IHFbMV1cbiAgICB0d29TdW0ocHEsIHRbMF0sIHEpXG4gICAgaWYocVswXSkge1xuICAgICAgZ1tjb3VudCsrXSA9IHFbMF1cbiAgICB9XG4gICAgdmFyIGEgPSB0WzFdXG4gICAgdmFyIGIgPSBxWzFdXG4gICAgdmFyIHggPSBhICsgYlxuICAgIHZhciBidiA9IHggLSBhXG4gICAgdmFyIHkgPSBiIC0gYnZcbiAgICBxWzFdID0geFxuICAgIGlmKHkpIHtcbiAgICAgIGdbY291bnQrK10gPSB5XG4gICAgfVxuICB9XG4gIGlmKHFbMV0pIHtcbiAgICBnW2NvdW50KytdID0gcVsxXVxuICB9XG4gIGlmKGNvdW50ID09PSAwKSB7XG4gICAgZ1tjb3VudCsrXSA9IDAuMFxuICB9XG4gIGcubGVuZ3RoID0gY291bnRcbiAgcmV0dXJuIGdcbn0iLCJcInVzZSBzdHJpY3RcIlxuXG5tb2R1bGUuZXhwb3J0cyA9IGxpbmVhckV4cGFuc2lvblN1bVxuXG4vL0Vhc3kgY2FzZTogQWRkIHR3byBzY2FsYXJzXG5mdW5jdGlvbiBzY2FsYXJTY2FsYXIoYSwgYikge1xuICB2YXIgeCA9IGEgKyBiXG4gIHZhciBidiA9IHggLSBhXG4gIHZhciBhdiA9IHggLSBidlxuICB2YXIgYnIgPSBiIC0gYnZcbiAgdmFyIGFyID0gYSAtIGF2XG4gIHZhciB5ID0gYXIgKyBiclxuICBpZih5KSB7XG4gICAgcmV0dXJuIFt5LCB4XVxuICB9XG4gIHJldHVybiBbeF1cbn1cblxuZnVuY3Rpb24gbGluZWFyRXhwYW5zaW9uU3VtKGUsIGYpIHtcbiAgdmFyIG5lID0gZS5sZW5ndGh8MFxuICB2YXIgbmYgPSBmLmxlbmd0aHwwXG4gIGlmKG5lID09PSAxICYmIG5mID09PSAxKSB7XG4gICAgcmV0dXJuIHNjYWxhclNjYWxhcihlWzBdLCBmWzBdKVxuICB9XG4gIHZhciBuID0gbmUgKyBuZlxuICB2YXIgZyA9IG5ldyBBcnJheShuKVxuICB2YXIgY291bnQgPSAwXG4gIHZhciBlcHRyID0gMFxuICB2YXIgZnB0ciA9IDBcbiAgdmFyIGFicyA9IE1hdGguYWJzXG4gIHZhciBlaSA9IGVbZXB0cl1cbiAgdmFyIGVhID0gYWJzKGVpKVxuICB2YXIgZmkgPSBmW2ZwdHJdXG4gIHZhciBmYSA9IGFicyhmaSlcbiAgdmFyIGEsIGJcbiAgaWYoZWEgPCBmYSkge1xuICAgIGIgPSBlaVxuICAgIGVwdHIgKz0gMVxuICAgIGlmKGVwdHIgPCBuZSkge1xuICAgICAgZWkgPSBlW2VwdHJdXG4gICAgICBlYSA9IGFicyhlaSlcbiAgICB9XG4gIH0gZWxzZSB7XG4gICAgYiA9IGZpXG4gICAgZnB0ciArPSAxXG4gICAgaWYoZnB0ciA8IG5mKSB7XG4gICAgICBmaSA9IGZbZnB0cl1cbiAgICAgIGZhID0gYWJzKGZpKVxuICAgIH1cbiAgfVxuICBpZigoZXB0ciA8IG5lICYmIGVhIDwgZmEpIHx8IChmcHRyID49IG5mKSkge1xuICAgIGEgPSBlaVxuICAgIGVwdHIgKz0gMVxuICAgIGlmKGVwdHIgPCBuZSkge1xuICAgICAgZWkgPSBlW2VwdHJdXG4gICAgICBlYSA9IGFicyhlaSlcbiAgICB9XG4gIH0gZWxzZSB7XG4gICAgYSA9IGZpXG4gICAgZnB0ciArPSAxXG4gICAgaWYoZnB0ciA8IG5mKSB7XG4gICAgICBmaSA9IGZbZnB0cl1cbiAgICAgIGZhID0gYWJzKGZpKVxuICAgIH1cbiAgfVxuICB2YXIgeCA9IGEgKyBiXG4gIHZhciBidiA9IHggLSBhXG4gIHZhciB5ID0gYiAtIGJ2XG4gIHZhciBxMCA9IHlcbiAgdmFyIHExID0geFxuICB2YXIgX3gsIF9idiwgX2F2LCBfYnIsIF9hclxuICB3aGlsZShlcHRyIDwgbmUgJiYgZnB0ciA8IG5mKSB7XG4gICAgaWYoZWEgPCBmYSkge1xuICAgICAgYSA9IGVpXG4gICAgICBlcHRyICs9IDFcbiAgICAgIGlmKGVwdHIgPCBuZSkge1xuICAgICAgICBlaSA9IGVbZXB0cl1cbiAgICAgICAgZWEgPSBhYnMoZWkpXG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIGEgPSBmaVxuICAgICAgZnB0ciArPSAxXG4gICAgICBpZihmcHRyIDwgbmYpIHtcbiAgICAgICAgZmkgPSBmW2ZwdHJdXG4gICAgICAgIGZhID0gYWJzKGZpKVxuICAgICAgfVxuICAgIH1cbiAgICBiID0gcTBcbiAgICB4ID0gYSArIGJcbiAgICBidiA9IHggLSBhXG4gICAgeSA9IGIgLSBidlxuICAgIGlmKHkpIHtcbiAgICAgIGdbY291bnQrK10gPSB5XG4gICAgfVxuICAgIF94ID0gcTEgKyB4XG4gICAgX2J2ID0gX3ggLSBxMVxuICAgIF9hdiA9IF94IC0gX2J2XG4gICAgX2JyID0geCAtIF9idlxuICAgIF9hciA9IHExIC0gX2F2XG4gICAgcTAgPSBfYXIgKyBfYnJcbiAgICBxMSA9IF94XG4gIH1cbiAgd2hpbGUoZXB0ciA8IG5lKSB7XG4gICAgYSA9IGVpXG4gICAgYiA9IHEwXG4gICAgeCA9IGEgKyBiXG4gICAgYnYgPSB4IC0gYVxuICAgIHkgPSBiIC0gYnZcbiAgICBpZih5KSB7XG4gICAgICBnW2NvdW50KytdID0geVxuICAgIH1cbiAgICBfeCA9IHExICsgeFxuICAgIF9idiA9IF94IC0gcTFcbiAgICBfYXYgPSBfeCAtIF9idlxuICAgIF9iciA9IHggLSBfYnZcbiAgICBfYXIgPSBxMSAtIF9hdlxuICAgIHEwID0gX2FyICsgX2JyXG4gICAgcTEgPSBfeFxuICAgIGVwdHIgKz0gMVxuICAgIGlmKGVwdHIgPCBuZSkge1xuICAgICAgZWkgPSBlW2VwdHJdXG4gICAgfVxuICB9XG4gIHdoaWxlKGZwdHIgPCBuZikge1xuICAgIGEgPSBmaVxuICAgIGIgPSBxMFxuICAgIHggPSBhICsgYlxuICAgIGJ2ID0geCAtIGFcbiAgICB5ID0gYiAtIGJ2XG4gICAgaWYoeSkge1xuICAgICAgZ1tjb3VudCsrXSA9IHlcbiAgICB9IFxuICAgIF94ID0gcTEgKyB4XG4gICAgX2J2ID0gX3ggLSBxMVxuICAgIF9hdiA9IF94IC0gX2J2XG4gICAgX2JyID0geCAtIF9idlxuICAgIF9hciA9IHExIC0gX2F2XG4gICAgcTAgPSBfYXIgKyBfYnJcbiAgICBxMSA9IF94XG4gICAgZnB0ciArPSAxXG4gICAgaWYoZnB0ciA8IG5mKSB7XG4gICAgICBmaSA9IGZbZnB0cl1cbiAgICB9XG4gIH1cbiAgaWYocTApIHtcbiAgICBnW2NvdW50KytdID0gcTBcbiAgfVxuICBpZihxMSkge1xuICAgIGdbY291bnQrK10gPSBxMVxuICB9XG4gIGlmKCFjb3VudCkge1xuICAgIGdbY291bnQrK10gPSAwLjAgIFxuICB9XG4gIGcubGVuZ3RoID0gY291bnRcbiAgcmV0dXJuIGdcbn0iLCJcInVzZSBzdHJpY3RcIlxuXG52YXIgdHdvUHJvZHVjdCA9IHJlcXVpcmUoXCJ0d28tcHJvZHVjdFwiKVxudmFyIHJvYnVzdFN1bSA9IHJlcXVpcmUoXCJyb2J1c3Qtc3VtXCIpXG52YXIgcm9idXN0U2NhbGUgPSByZXF1aXJlKFwicm9idXN0LXNjYWxlXCIpXG52YXIgcm9idXN0U3VidHJhY3QgPSByZXF1aXJlKFwicm9idXN0LXN1YnRyYWN0XCIpXG5cbnZhciBOVU1fRVhQQU5EID0gNVxuXG52YXIgRVBTSUxPTiAgICAgPSAxLjExMDIyMzAyNDYyNTE1NjVlLTE2XG52YXIgRVJSQk9VTkQzICAgPSAoMy4wICsgMTYuMCAqIEVQU0lMT04pICogRVBTSUxPTlxudmFyIEVSUkJPVU5ENCAgID0gKDcuMCArIDU2LjAgKiBFUFNJTE9OKSAqIEVQU0lMT05cblxuZnVuY3Rpb24gY29mYWN0b3IobSwgYykge1xuICB2YXIgcmVzdWx0ID0gbmV3IEFycmF5KG0ubGVuZ3RoLTEpXG4gIGZvcih2YXIgaT0xOyBpPG0ubGVuZ3RoOyArK2kpIHtcbiAgICB2YXIgciA9IHJlc3VsdFtpLTFdID0gbmV3IEFycmF5KG0ubGVuZ3RoLTEpXG4gICAgZm9yKHZhciBqPTAsaz0wOyBqPG0ubGVuZ3RoOyArK2opIHtcbiAgICAgIGlmKGogPT09IGMpIHtcbiAgICAgICAgY29udGludWVcbiAgICAgIH1cbiAgICAgIHJbaysrXSA9IG1baV1bal1cbiAgICB9XG4gIH1cbiAgcmV0dXJuIHJlc3VsdFxufVxuXG5mdW5jdGlvbiBtYXRyaXgobikge1xuICB2YXIgcmVzdWx0ID0gbmV3IEFycmF5KG4pXG4gIGZvcih2YXIgaT0wOyBpPG47ICsraSkge1xuICAgIHJlc3VsdFtpXSA9IG5ldyBBcnJheShuKVxuICAgIGZvcih2YXIgaj0wOyBqPG47ICsraikge1xuICAgICAgcmVzdWx0W2ldW2pdID0gW1wibVwiLCBqLCBcIltcIiwgKG4taS0xKSwgXCJdXCJdLmpvaW4oXCJcIilcbiAgICB9XG4gIH1cbiAgcmV0dXJuIHJlc3VsdFxufVxuXG5mdW5jdGlvbiBzaWduKG4pIHtcbiAgaWYobiAmIDEpIHtcbiAgICByZXR1cm4gXCItXCJcbiAgfVxuICByZXR1cm4gXCJcIlxufVxuXG5mdW5jdGlvbiBnZW5lcmF0ZVN1bShleHByKSB7XG4gIGlmKGV4cHIubGVuZ3RoID09PSAxKSB7XG4gICAgcmV0dXJuIGV4cHJbMF1cbiAgfSBlbHNlIGlmKGV4cHIubGVuZ3RoID09PSAyKSB7XG4gICAgcmV0dXJuIFtcInN1bShcIiwgZXhwclswXSwgXCIsXCIsIGV4cHJbMV0sIFwiKVwiXS5qb2luKFwiXCIpXG4gIH0gZWxzZSB7XG4gICAgdmFyIG0gPSBleHByLmxlbmd0aD4+MVxuICAgIHJldHVybiBbXCJzdW0oXCIsIGdlbmVyYXRlU3VtKGV4cHIuc2xpY2UoMCwgbSkpLCBcIixcIiwgZ2VuZXJhdGVTdW0oZXhwci5zbGljZShtKSksIFwiKVwiXS5qb2luKFwiXCIpXG4gIH1cbn1cblxuZnVuY3Rpb24gZGV0ZXJtaW5hbnQobSkge1xuICBpZihtLmxlbmd0aCA9PT0gMikge1xuICAgIHJldHVybiBbW1wic3VtKHByb2QoXCIsIG1bMF1bMF0sIFwiLFwiLCBtWzFdWzFdLCBcIikscHJvZCgtXCIsIG1bMF1bMV0sIFwiLFwiLCBtWzFdWzBdLCBcIikpXCJdLmpvaW4oXCJcIildXG4gIH0gZWxzZSB7XG4gICAgdmFyIGV4cHIgPSBbXVxuICAgIGZvcih2YXIgaT0wOyBpPG0ubGVuZ3RoOyArK2kpIHtcbiAgICAgIGV4cHIucHVzaChbXCJzY2FsZShcIiwgZ2VuZXJhdGVTdW0oZGV0ZXJtaW5hbnQoY29mYWN0b3IobSwgaSkpKSwgXCIsXCIsIHNpZ24oaSksIG1bMF1baV0sIFwiKVwiXS5qb2luKFwiXCIpKVxuICAgIH1cbiAgICByZXR1cm4gZXhwclxuICB9XG59XG5cbmZ1bmN0aW9uIG9yaWVudGF0aW9uKG4pIHtcbiAgdmFyIHBvcyA9IFtdXG4gIHZhciBuZWcgPSBbXVxuICB2YXIgbSA9IG1hdHJpeChuKVxuICB2YXIgYXJncyA9IFtdXG4gIGZvcih2YXIgaT0wOyBpPG47ICsraSkge1xuICAgIGlmKChpJjEpPT09MCkge1xuICAgICAgcG9zLnB1c2guYXBwbHkocG9zLCBkZXRlcm1pbmFudChjb2ZhY3RvcihtLCBpKSkpXG4gICAgfSBlbHNlIHtcbiAgICAgIG5lZy5wdXNoLmFwcGx5KG5lZywgZGV0ZXJtaW5hbnQoY29mYWN0b3IobSwgaSkpKVxuICAgIH1cbiAgICBhcmdzLnB1c2goXCJtXCIgKyBpKVxuICB9XG4gIHZhciBwb3NFeHByID0gZ2VuZXJhdGVTdW0ocG9zKVxuICB2YXIgbmVnRXhwciA9IGdlbmVyYXRlU3VtKG5lZylcbiAgdmFyIGZ1bmNOYW1lID0gXCJvcmllbnRhdGlvblwiICsgbiArIFwiRXhhY3RcIlxuICB2YXIgY29kZSA9IFtcImZ1bmN0aW9uIFwiLCBmdW5jTmFtZSwgXCIoXCIsIGFyZ3Muam9pbigpLCBcIil7dmFyIHA9XCIsIHBvc0V4cHIsIFwiLG49XCIsIG5lZ0V4cHIsIFwiLGQ9c3ViKHAsbik7XFxcbnJldHVybiBkW2QubGVuZ3RoLTFdO307cmV0dXJuIFwiLCBmdW5jTmFtZV0uam9pbihcIlwiKVxuICB2YXIgcHJvYyA9IG5ldyBGdW5jdGlvbihcInN1bVwiLCBcInByb2RcIiwgXCJzY2FsZVwiLCBcInN1YlwiLCBjb2RlKVxuICByZXR1cm4gcHJvYyhyb2J1c3RTdW0sIHR3b1Byb2R1Y3QsIHJvYnVzdFNjYWxlLCByb2J1c3RTdWJ0cmFjdClcbn1cblxudmFyIG9yaWVudGF0aW9uM0V4YWN0ID0gb3JpZW50YXRpb24oMylcbnZhciBvcmllbnRhdGlvbjRFeGFjdCA9IG9yaWVudGF0aW9uKDQpXG5cbnZhciBDQUNIRUQgPSBbXG4gIGZ1bmN0aW9uIG9yaWVudGF0aW9uMCgpIHsgcmV0dXJuIDAgfSxcbiAgZnVuY3Rpb24gb3JpZW50YXRpb24xKCkgeyByZXR1cm4gMCB9LFxuICBmdW5jdGlvbiBvcmllbnRhdGlvbjIoYSwgYikgeyBcbiAgICByZXR1cm4gYlswXSAtIGFbMF1cbiAgfSxcbiAgZnVuY3Rpb24gb3JpZW50YXRpb24zKGEsIGIsIGMpIHtcbiAgICB2YXIgbCA9IChhWzFdIC0gY1sxXSkgKiAoYlswXSAtIGNbMF0pXG4gICAgdmFyIHIgPSAoYVswXSAtIGNbMF0pICogKGJbMV0gLSBjWzFdKVxuICAgIHZhciBkZXQgPSBsIC0gclxuICAgIHZhciBzXG4gICAgaWYobCA+IDApIHtcbiAgICAgIGlmKHIgPD0gMCkge1xuICAgICAgICByZXR1cm4gZGV0XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBzID0gbCArIHJcbiAgICAgIH1cbiAgICB9IGVsc2UgaWYobCA8IDApIHtcbiAgICAgIGlmKHIgPj0gMCkge1xuICAgICAgICByZXR1cm4gZGV0XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBzID0gLShsICsgcilcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIGRldFxuICAgIH1cbiAgICB2YXIgdG9sID0gRVJSQk9VTkQzICogc1xuICAgIGlmKGRldCA+PSB0b2wgfHwgZGV0IDw9IC10b2wpIHtcbiAgICAgIHJldHVybiBkZXRcbiAgICB9XG4gICAgcmV0dXJuIG9yaWVudGF0aW9uM0V4YWN0KGEsIGIsIGMpXG4gIH0sXG4gIGZ1bmN0aW9uIG9yaWVudGF0aW9uNChhLGIsYyxkKSB7XG4gICAgdmFyIGFkeCA9IGFbMF0gLSBkWzBdXG4gICAgdmFyIGJkeCA9IGJbMF0gLSBkWzBdXG4gICAgdmFyIGNkeCA9IGNbMF0gLSBkWzBdXG4gICAgdmFyIGFkeSA9IGFbMV0gLSBkWzFdXG4gICAgdmFyIGJkeSA9IGJbMV0gLSBkWzFdXG4gICAgdmFyIGNkeSA9IGNbMV0gLSBkWzFdXG4gICAgdmFyIGFkeiA9IGFbMl0gLSBkWzJdXG4gICAgdmFyIGJkeiA9IGJbMl0gLSBkWzJdXG4gICAgdmFyIGNkeiA9IGNbMl0gLSBkWzJdXG4gICAgdmFyIGJkeGNkeSA9IGJkeCAqIGNkeVxuICAgIHZhciBjZHhiZHkgPSBjZHggKiBiZHlcbiAgICB2YXIgY2R4YWR5ID0gY2R4ICogYWR5XG4gICAgdmFyIGFkeGNkeSA9IGFkeCAqIGNkeVxuICAgIHZhciBhZHhiZHkgPSBhZHggKiBiZHlcbiAgICB2YXIgYmR4YWR5ID0gYmR4ICogYWR5XG4gICAgdmFyIGRldCA9IGFkeiAqIChiZHhjZHkgLSBjZHhiZHkpIFxuICAgICAgICAgICAgKyBiZHogKiAoY2R4YWR5IC0gYWR4Y2R5KVxuICAgICAgICAgICAgKyBjZHogKiAoYWR4YmR5IC0gYmR4YWR5KVxuICAgIHZhciBwZXJtYW5lbnQgPSAoTWF0aC5hYnMoYmR4Y2R5KSArIE1hdGguYWJzKGNkeGJkeSkpICogTWF0aC5hYnMoYWR6KVxuICAgICAgICAgICAgICAgICAgKyAoTWF0aC5hYnMoY2R4YWR5KSArIE1hdGguYWJzKGFkeGNkeSkpICogTWF0aC5hYnMoYmR6KVxuICAgICAgICAgICAgICAgICAgKyAoTWF0aC5hYnMoYWR4YmR5KSArIE1hdGguYWJzKGJkeGFkeSkpICogTWF0aC5hYnMoY2R6KVxuICAgIHZhciB0b2wgPSBFUlJCT1VORDQgKiBwZXJtYW5lbnRcbiAgICBpZiAoKGRldCA+IHRvbCkgfHwgKC1kZXQgPiB0b2wpKSB7XG4gICAgICByZXR1cm4gZGV0XG4gICAgfVxuICAgIHJldHVybiBvcmllbnRhdGlvbjRFeGFjdChhLGIsYyxkKVxuICB9XG5dXG5cbmZ1bmN0aW9uIHNsb3dPcmllbnQoYXJncykge1xuICB2YXIgcHJvYyA9IENBQ0hFRFthcmdzLmxlbmd0aF1cbiAgaWYoIXByb2MpIHtcbiAgICBwcm9jID0gQ0FDSEVEW2FyZ3MubGVuZ3RoXSA9IG9yaWVudGF0aW9uKGFyZ3MubGVuZ3RoKVxuICB9XG4gIHJldHVybiBwcm9jLmFwcGx5KHVuZGVmaW5lZCwgYXJncylcbn1cblxuZnVuY3Rpb24gZ2VuZXJhdGVPcmllbnRhdGlvblByb2MoKSB7XG4gIHdoaWxlKENBQ0hFRC5sZW5ndGggPD0gTlVNX0VYUEFORCkge1xuICAgIENBQ0hFRC5wdXNoKG9yaWVudGF0aW9uKENBQ0hFRC5sZW5ndGgpKVxuICB9XG4gIHZhciBhcmdzID0gW11cbiAgdmFyIHByb2NBcmdzID0gW1wic2xvd1wiXVxuICBmb3IodmFyIGk9MDsgaTw9TlVNX0VYUEFORDsgKytpKSB7XG4gICAgYXJncy5wdXNoKFwiYVwiICsgaSlcbiAgICBwcm9jQXJncy5wdXNoKFwib1wiICsgaSlcbiAgfVxuICB2YXIgY29kZSA9IFtcbiAgICBcImZ1bmN0aW9uIGdldE9yaWVudGF0aW9uKFwiLCBhcmdzLmpvaW4oKSwgXCIpe3N3aXRjaChhcmd1bWVudHMubGVuZ3RoKXtjYXNlIDA6Y2FzZSAxOnJldHVybiAwO1wiXG4gIF1cbiAgZm9yKHZhciBpPTI7IGk8PU5VTV9FWFBBTkQ7ICsraSkge1xuICAgIGNvZGUucHVzaChcImNhc2UgXCIsIGksIFwiOnJldHVybiBvXCIsIGksIFwiKFwiLCBhcmdzLnNsaWNlKDAsIGkpLmpvaW4oKSwgXCIpO1wiKVxuICB9XG4gIGNvZGUucHVzaChcIn12YXIgcz1uZXcgQXJyYXkoYXJndW1lbnRzLmxlbmd0aCk7Zm9yKHZhciBpPTA7aTxhcmd1bWVudHMubGVuZ3RoOysraSl7c1tpXT1hcmd1bWVudHNbaV19O3JldHVybiBzbG93KHMpO31yZXR1cm4gZ2V0T3JpZW50YXRpb25cIilcbiAgcHJvY0FyZ3MucHVzaChjb2RlLmpvaW4oXCJcIikpXG5cbiAgdmFyIHByb2MgPSBGdW5jdGlvbi5hcHBseSh1bmRlZmluZWQsIHByb2NBcmdzKVxuICBtb2R1bGUuZXhwb3J0cyA9IHByb2MuYXBwbHkodW5kZWZpbmVkLCBbc2xvd09yaWVudF0uY29uY2F0KENBQ0hFRCkpXG4gIGZvcih2YXIgaT0wOyBpPD1OVU1fRVhQQU5EOyArK2kpIHtcbiAgICBtb2R1bGUuZXhwb3J0c1tpXSA9IENBQ0hFRFtpXVxuICB9XG59XG5cbmdlbmVyYXRlT3JpZW50YXRpb25Qcm9jKCkiLCJtb2R1bGUuZXhwb3J0cyA9IHJvYnVzdFBvaW50SW5Qb2x5Z29uXG5cbnZhciBvcmllbnQgPSByZXF1aXJlKCdyb2J1c3Qtb3JpZW50YXRpb24nKVxuXG5mdW5jdGlvbiByb2J1c3RQb2ludEluUG9seWdvbih2cywgcG9pbnQpIHtcbiAgdmFyIHggPSBwb2ludFswXVxuICB2YXIgeSA9IHBvaW50WzFdXG4gIHZhciBuID0gdnMubGVuZ3RoXG4gIHZhciBpbnNpZGUgPSAxXG4gIHZhciBsaW0gPSBuXG4gIGZvcih2YXIgaSA9IDAsIGogPSBuLTE7IGk8bGltOyBqPWkrKykge1xuICAgIHZhciBhID0gdnNbaV1cbiAgICB2YXIgYiA9IHZzW2pdXG4gICAgdmFyIHlpID0gYVsxXVxuICAgIHZhciB5aiA9IGJbMV1cbiAgICBpZih5aiA8IHlpKSB7XG4gICAgICBpZih5aiA8IHkgJiYgeSA8IHlpKSB7XG4gICAgICAgIHZhciBzID0gb3JpZW50KGEsIGIsIHBvaW50KVxuICAgICAgICBpZihzID09PSAwKSB7XG4gICAgICAgICAgcmV0dXJuIDBcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBpbnNpZGUgXj0gKDAgPCBzKXwwXG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSBpZih5ID09PSB5aSkge1xuICAgICAgICB2YXIgYyA9IHZzWyhpKzEpJW5dXG4gICAgICAgIHZhciB5ayA9IGNbMV1cbiAgICAgICAgaWYoeWkgPCB5aykge1xuICAgICAgICAgIHZhciBzID0gb3JpZW50KGEsIGIsIHBvaW50KVxuICAgICAgICAgIGlmKHMgPT09IDApIHtcbiAgICAgICAgICAgIHJldHVybiAwXG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGluc2lkZSBePSAoMCA8IHMpfDBcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9IGVsc2UgaWYoeWkgPCB5aikge1xuICAgICAgaWYoeWkgPCB5ICYmIHkgPCB5aikge1xuICAgICAgICB2YXIgcyA9IG9yaWVudChhLCBiLCBwb2ludClcbiAgICAgICAgaWYocyA9PT0gMCkge1xuICAgICAgICAgIHJldHVybiAwXG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgaW5zaWRlIF49IChzIDwgMCl8MFxuICAgICAgICB9XG4gICAgICB9IGVsc2UgaWYoeSA9PT0geWkpIHtcbiAgICAgICAgdmFyIGMgPSB2c1soaSsxKSVuXVxuICAgICAgICB2YXIgeWsgPSBjWzFdXG4gICAgICAgIGlmKHlrIDwgeWkpIHtcbiAgICAgICAgICB2YXIgcyA9IG9yaWVudChhLCBiLCBwb2ludClcbiAgICAgICAgICBpZihzID09PSAwKSB7XG4gICAgICAgICAgICByZXR1cm4gMFxuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBpbnNpZGUgXj0gKHMgPCAwKXwwXG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfSBlbHNlIGlmKHkgPT09IHlpKSB7XG4gICAgICB2YXIgeDAgPSBNYXRoLm1pbihhWzBdLCBiWzBdKVxuICAgICAgdmFyIHgxID0gTWF0aC5tYXgoYVswXSwgYlswXSlcbiAgICAgIGlmKGkgPT09IDApIHtcbiAgICAgICAgd2hpbGUoaj4wKSB7XG4gICAgICAgICAgdmFyIGsgPSAoaituLTEpJW5cbiAgICAgICAgICB2YXIgcCA9IHZzW2tdXG4gICAgICAgICAgaWYocFsxXSAhPT0geSkge1xuICAgICAgICAgICAgYnJlYWtcbiAgICAgICAgICB9XG4gICAgICAgICAgdmFyIHB4ID0gcFswXVxuICAgICAgICAgIHgwID0gTWF0aC5taW4oeDAsIHB4KVxuICAgICAgICAgIHgxID0gTWF0aC5tYXgoeDEsIHB4KVxuICAgICAgICAgIGogPSBrXG4gICAgICAgIH1cbiAgICAgICAgaWYoaiA9PT0gMCkge1xuICAgICAgICAgIGlmKHgwIDw9IHggJiYgeCA8PSB4MSkge1xuICAgICAgICAgICAgcmV0dXJuIDBcbiAgICAgICAgICB9XG4gICAgICAgICAgcmV0dXJuIDEgXG4gICAgICAgIH1cbiAgICAgICAgbGltID0gaisxXG4gICAgICB9XG4gICAgICB2YXIgeTAgPSB2c1soaituLTEpJW5dWzFdXG4gICAgICB3aGlsZShpKzE8bGltKSB7XG4gICAgICAgIHZhciBwID0gdnNbaSsxXVxuICAgICAgICBpZihwWzFdICE9PSB5KSB7XG4gICAgICAgICAgYnJlYWtcbiAgICAgICAgfVxuICAgICAgICB2YXIgcHggPSBwWzBdXG4gICAgICAgIHgwID0gTWF0aC5taW4oeDAsIHB4KVxuICAgICAgICB4MSA9IE1hdGgubWF4KHgxLCBweClcbiAgICAgICAgaSArPSAxXG4gICAgICB9XG4gICAgICBpZih4MCA8PSB4ICYmIHggPD0geDEpIHtcbiAgICAgICAgcmV0dXJuIDBcbiAgICAgIH1cbiAgICAgIHZhciB5MSA9IHZzWyhpKzEpJW5dWzFdXG4gICAgICBpZih4IDwgeDAgJiYgKHkwIDwgeSAhPT0geTEgPCB5KSkge1xuICAgICAgICBpbnNpZGUgXj0gMVxuICAgICAgfVxuICAgIH1cbiAgfVxuICByZXR1cm4gMiAqIGluc2lkZSAtIDFcbn0iLCJ2YXIgUkVHSU9OU19EQVRBID0ge1xuICAgICAgICByZWdpb246IHtcbiAgICAgICAgICAgIHRpdGxlOiAn0KDQtdCz0LjQvtC9JyxcbiAgICAgICAgICAgIGl0ZW1zOiBbe1xuICAgICAgICAgICAgICAgIGlkOiAnMDAxJyxcbiAgICAgICAgICAgICAgICB0aXRsZTogJ9Ch0YLRgNCw0L3RiyDQvNC40YDQsCdcbiAgICAgICAgICAgIH0sIHtcbiAgICAgICAgICAgICAgICBpZDogJ0JZJyxcbiAgICAgICAgICAgICAgICB0aXRsZTogJ9CR0LXQu9Cw0YDRg9GB0YwnXG4gICAgICAgICAgICB9LCB7XG4gICAgICAgICAgICAgICAgaWQ6ICdLWicsXG4gICAgICAgICAgICAgICAgdGl0bGU6ICfQmtCw0LfQsNGF0YHRgtCw0L0nXG4gICAgICAgICAgICB9LCB7XG4gICAgICAgICAgICAgICAgaWQ6ICdSVScsXG4gICAgICAgICAgICAgICAgdGl0bGU6ICfQoNC+0YHRgdC40Y8nXG4gICAgICAgICAgICB9LCB7XG4gICAgICAgICAgICAgICAgaWQ6ICdUUicsXG4gICAgICAgICAgICAgICAgdGl0bGU6ICfQotGD0YDRhtC40Y8nXG4gICAgICAgICAgICB9LCB7XG4gICAgICAgICAgICAgICAgaWQ6ICdVQScsXG4gICAgICAgICAgICAgICAgdGl0bGU6ICfQo9C60YDQsNC40L3QsCdcbiAgICAgICAgICAgIH1dXG4gICAgICAgIH0sXG4gICAgICAgIGxhbmc6IHtcbiAgICAgICAgICAgIHRpdGxlOiAn0K/Qt9GL0LonLFxuICAgICAgICAgICAgaXRlbXM6IFt7XG4gICAgICAgICAgICAgICAgaWQ6ICdlbicsXG4gICAgICAgICAgICAgICAgdGl0bGU6ICfQkNC90LPQu9C40LnRgdC60LjQuSdcbiAgICAgICAgICAgIH0sIHtcbiAgICAgICAgICAgICAgICBpZDogJ2JlJyxcbiAgICAgICAgICAgICAgICB0aXRsZTogJ9CR0LXQu9C+0YDRg9GB0YHQutC40LknXG4gICAgICAgICAgICB9LCB7XG4gICAgICAgICAgICAgICAgaWQ6ICdraycsXG4gICAgICAgICAgICAgICAgdGl0bGU6ICfQmtCw0LfQsNGF0YHQutC40LknXG4gICAgICAgICAgICB9LCB7XG4gICAgICAgICAgICAgICAgaWQ6ICdydScsXG4gICAgICAgICAgICAgICAgdGl0bGU6ICfQoNGD0YHRgdC60LjQuSdcbiAgICAgICAgICAgIH0sIHtcbiAgICAgICAgICAgICAgICBpZDogJ3RyJyxcbiAgICAgICAgICAgICAgICB0aXRsZTogJ9Ci0YPRgNC10YbQutC40LknXG4gICAgICAgICAgICB9LCB7XG4gICAgICAgICAgICAgICAgaWQ6ICd1aycsXG4gICAgICAgICAgICAgICAgdGl0bGU6ICfQo9C60YDQsNC40L3RgdC60LjQuSdcbiAgICAgICAgICAgIH1dXG4gICAgICAgIH0sXG4gICAgICAgIHF1YWxpdHk6IHtcbiAgICAgICAgICAgIHRpdGxlOiAn0KLQvtGH0L3QvtGB0YLRjCDQs9GA0LDQvdC40YYnLFxuICAgICAgICAgICAgaXRlbXM6IFt7XG4gICAgICAgICAgICAgICAgaWQ6ICcwJyxcbiAgICAgICAgICAgICAgICB0aXRsZTogJzAnXG4gICAgICAgICAgICB9LCB7XG4gICAgICAgICAgICAgICAgaWQ6ICcxJyxcbiAgICAgICAgICAgICAgICB0aXRsZTogJzEnXG4gICAgICAgICAgICB9LCB7XG4gICAgICAgICAgICAgICAgaWQ6ICcyJyxcbiAgICAgICAgICAgICAgICB0aXRsZTogJzInXG4gICAgICAgICAgICB9LCB7XG4gICAgICAgICAgICAgICAgaWQ6ICczJyxcbiAgICAgICAgICAgICAgICB0aXRsZTogJzMnXG4gICAgICAgICAgICB9XVxuICAgICAgICB9XG4gICAgfSxcbiAgICAvLyDQqNCw0LHQu9C+0L0gaHRtbC3RgdC+0LTQtdGA0LbQuNC80L7Qs9C+INC80LDQutC10YLQsC5cbiAgICBvcHRpb25zVGVtcGxhdGUgPSBbXG4gICAgICAgICc8ZGl2IHN0eWxlPVwibGluZS1oZWlnaHQ6IDM0cHg7IHZpc2liaWxpdHk6IGhpZGRlbjsgYmFja2dyb3VuZC1jb2xvcjogIzgwODA4MDgwO1wiIGlkPVwicmVnaW9ucy1wYXJhbXNcIj4nLFxuICAgICAgICAneyUgZm9yIHBhcmFtTmFtZSwgcGFyYW0gaW4gZGF0YS5wYXJhbXMgJX0nLFxuICAgICAgICAneyUgZm9yIGtleSwgdmFsdWUgaW4gc3RhdGUudmFsdWVzICV9JyxcbiAgICAgICAgJ3slIGlmIGtleSA9PSBwYXJhbU5hbWUgJX0nLFxuICAgICAgICAnPGRpdiBjbGFzcz1cImJ0bi1ncm91cCBidG4tZ3JvdXAteHNcIj4nLFxuICAgICAgICAnPGJ1dHRvbnslIGlmIHN0YXRlLmVuYWJsZWQgJX17JSBlbHNlICV9IGRpc2FibGVkeyUgZW5kaWYgJX0gdHlwZT1cImJ1dHRvblwiIGNsYXNzPVwiYnRuIGJ0bi1wcmltYXJ5IGRyb3Bkb3duLXRvZ2dsZVwiIGRhdGEtdG9nZ2xlPVwiZHJvcGRvd25cIj4nLFxuICAgICAgICAnPHNwYW4+e3sgcGFyYW0udGl0bGUgfX08L3NwYW4+JyxcbiAgICAgICAgJzxzcGFuIGNsYXNzPVwidmFsdWVcIj46IHt7IHZhbHVlIH19PC9zcGFuPicsXG4gICAgICAgICcmbmJzcDs8c3BhbiBjbGFzcz1cImNhcmV0XCI+PC9zcGFuPicsXG4gICAgICAgICc8L2J1dHRvbj4nLFxuICAgICAgICAnPHVsIGNsYXNzPVwiZHJvcGRvd24tbWVudSB7eyBwYXJhbU5hbWUgfX1cIj4nLFxuICAgICAgICAneyUgZm9yIGl0ZW0gaW4gcGFyYW0uaXRlbXMgJX0nLFxuICAgICAgICAnPGxpeyUgaWYgaXRlbS5pZCA9PSB2YWx1ZSAlfSBjbGFzcz1cImFjdGl2ZVwieyUgZW5kaWYgJX0+JyxcbiAgICAgICAgJzxhIGlkPVwicmVnaW9uc1wiIGhyZWY9XCIjXCIgZGF0YS1wYXJhbT1cInt7IHBhcmFtTmFtZSB9fVwiIGRhdGEtaWQ9XCJ7eyBpdGVtLmlkIH19XCI+JyxcbiAgICAgICAgJ3t7IGl0ZW0udGl0bGUgfX0nLFxuICAgICAgICAnPC9hPicsXG4gICAgICAgICc8L2xpPicsXG4gICAgICAgICd7JSBlbmRmb3IgJX0nLFxuICAgICAgICAnPC91bD4nLFxuICAgICAgICAnPC9kaXY+Jm5ic3A7JyxcbiAgICAgICAgJ3slIGVuZGlmICV9JyxcbiAgICAgICAgJ3slIGVuZGZvciAlfScsXG4gICAgICAgICd7JSBlbmRmb3IgJX0nLFxuICAgICAgICAnPC9kaXY+J1xuICAgIF0uam9pbignJyk7XG5cbnZhciBob3RlbHMgPSBbXTtcblxuJC5hamF4KCdkYXRhL2hvdGVscy5qc29uJywge1xuICAgIHN1Y2Nlc3M6IGZ1bmN0aW9uKGRhdGEpIHtcbiAgICAgICAgaG90ZWxzID0gZGF0YTtcblxuICAgICAgICAvLyDQlNC70Y8g0LTQtdC80L7QvdGB0YLRgNCw0YbQuNC4INCy0L7Qt9GM0LzQtdC8IDI1MDAg0YLQvtGH0LXQui5cbiAgICAgICAgaG90ZWxzLmZlYXR1cmVzLmxlbmd0aCAvPSA0O1xuICAgICAgICB5bWFwcy5yZWFkeShpbml0KTtcbiAgICB9XG59KTtcblxuLy8g0JzQtdGC0L7QtCDRgtGA0LDRgdGB0LjRgNC+0LLQutC4INC70YPRh9CwLlxuLy8g0J3QtSDRgNCw0LHQvtGC0LDQtdGCINC90LDQtNC10LbQvdC+LCDQutC+0LPQtNCwINGC0L7Rh9C60LAg0Y/QstC70Y/QtdGC0YHRjyDRg9Cz0LvQvtC8INC80L3QvtCz0L7Rg9Cz0L7Qu9GM0L3QuNC60LAg0LjQu9C4INC60YDQsNGPLlxuZnVuY3Rpb24gbm90QWNjdXJhdGVSYXlDYXN0KHBvaW50LCB2cykge1xuICAgIHZhciB4ID0gcG9pbnRbMF0sIHkgPSBwb2ludFsxXTtcblxuICAgIHZhciBpbnNpZGUgPSBmYWxzZTtcbiAgICBmb3IgKHZhciBpID0gMCwgaiA9IHZzLmxlbmd0aCAtIDE7IGkgPCB2cy5sZW5ndGg7IGogPSBpKyspIHtcbiAgICAgICAgdmFyIHhpID0gdnNbaV1bMF0sIHlpID0gdnNbaV1bMV07XG4gICAgICAgIHZhciB4aiA9IHZzW2pdWzBdLCB5aiA9IHZzW2pdWzFdO1xuXG4gICAgICAgIHZhciBpbnRlcnNlY3QgPSAoKHlpID4geSkgIT0gKHlqID4geSkpXG4gICAgICAgICAgICAmJiAoeCA8ICh4aiAtIHhpKSAqICh5IC0geWkpIC8gKHlqIC0geWkpICsgeGkpO1xuICAgICAgICBpZiAoaW50ZXJzZWN0KSBpbnNpZGUgPSAhaW5zaWRlO1xuICAgIH1cblxuICAgIHJldHVybiBpbnNpZGU7XG59XG5cbnZhciBjbGFzc2lmeVBvaW50ID0gcmVxdWlyZShcInJvYnVzdC1wb2ludC1pbi1wb2x5Z29uXCIpO1xuXG5mdW5jdGlvbiBpbml0KCkge1xuICAgIC8vINCh0L7Qt9C00LDQtNC40Lwg0YHQvtCx0YHRgtCy0LXQvdC90YvQuSDQvNCw0LrQtdGCIFJlZ2lvbkNvbnRyb2wuXG4gICAgdmFyIFJlZ2lvbkNvbnRyb2xMYXlvdXQgPSB5bWFwcy50ZW1wbGF0ZUxheW91dEZhY3RvcnkuY3JlYXRlQ2xhc3Mob3B0aW9uc1RlbXBsYXRlLCB7XG4gICAgICAgICAgICBidWlsZDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIFJlZ2lvbkNvbnRyb2xMYXlvdXQuc3VwZXJjbGFzcy5idWlsZC5jYWxsKHRoaXMpO1xuICAgICAgICAgICAgICAgIHRoaXMuaGFuZGxlQ2xpY2sgPSB5bWFwcy51dGlsLmJpbmQodGhpcy5oYW5kbGVDbGljaywgdGhpcyk7XG4gICAgICAgICAgICAgICAgJCh0aGlzLmdldFBhcmVudEVsZW1lbnQpXG4gICAgICAgICAgICAgICAgICAgIC5vbignY2xpY2snLCAnYSNyZWdpb25zJywgdGhpcy5oYW5kbGVDbGljayk7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgY2xlYXI6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAkKHRoaXMuZ2V0UGFyZW50RWxlbWVudClcbiAgICAgICAgICAgICAgICAgICAgLm9mZignY2xpY2snLCAnYSNyZWdpb25zJywgdGhpcy5oYW5kbGVDbGljayk7XG4gICAgICAgICAgICAgICAgUmVnaW9uQ29udHJvbExheW91dC5zdXBlcmNsYXNzLmNsZWFyLmNhbGwodGhpcyk7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgaGFuZGxlQ2xpY2s6IGZ1bmN0aW9uIChlKSB7XG4gICAgICAgICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAgICAgICAgIHZhciAkdGFyZ2V0ID0gJChlLmN1cnJlbnRUYXJnZXQpO1xuICAgICAgICAgICAgICAgIHZhciBzdGF0ZSA9IHRoaXMuZ2V0RGF0YSgpLnN0YXRlO1xuICAgICAgICAgICAgICAgIHZhciBuZXdWYWx1ZXMgPSB5bWFwcy51dGlsLmV4dGVuZCh7fSwgc3RhdGUuZ2V0KCd2YWx1ZXMnKSk7XG4gICAgICAgICAgICAgICAgaWYgKCEkdGFyZ2V0Lmhhc0NsYXNzKCdhY3RpdmUnKSkge1xuICAgICAgICAgICAgICAgICAgICBuZXdWYWx1ZXNbJHRhcmdldC5kYXRhKCdwYXJhbScpXSA9ICR0YXJnZXQuZGF0YSgnaWQnKTtcbiAgICAgICAgICAgICAgICAgICAgc3RhdGUuc2V0KCd2YWx1ZXMnLCBuZXdWYWx1ZXMpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfSksXG4gICAgICAgIC8vINCd0LDRgdC70LXQtNGD0LXQvCDQutC70LDRgdGBINC90LDRiNC10LPQviDQutC+0L3RgtGA0L7Qu9CwINC+0YIgeW1hcHMuY29udHJvbC5CdXR0b24uXG4gICAgICAgIFJlZ2lvbkNvbnRyb2wgPSB5bWFwcy51dGlsLmRlZmluZUNsYXNzKGZ1bmN0aW9uIChwYXJhbWV0ZXJzKSB7XG4gICAgICAgICAgICBSZWdpb25Db250cm9sLnN1cGVyY2xhc3MuY29uc3RydWN0b3IuY2FsbCh0aGlzLCBwYXJhbWV0ZXJzKTtcbiAgICAgICAgfSwgeW1hcHMuY29udHJvbC5CdXR0b24sIC8qKiBAbGVuZHMgeW1hcHMuY29udHJvbC5CdXR0b24gKi97XG4gICAgICAgICAgICBvbkFkZFRvTWFwOiBmdW5jdGlvbiAobWFwKSB7XG4gICAgICAgICAgICAgICAgUmVnaW9uQ29udHJvbC5zdXBlcmNsYXNzLm9uQWRkVG9NYXAuY2FsbCh0aGlzLCBtYXApO1xuICAgICAgICAgICAgICAgIHRoaXMuc2V0dXBTdGF0ZU1vbml0b3IoKTtcbiAgICAgICAgICAgICAgICB0aGlzLmxvYWRSZWdpb25zKHRoaXMuc3RhdGUuZ2V0KCd2YWx1ZXMnKSk7XG4gICAgICAgICAgICB9LFxuXG4gICAgICAgICAgICBvblJlbW92ZUZyb21NYXA6IGZ1bmN0aW9uIChtYXApIHtcbiAgICAgICAgICAgICAgICBtYXAuZ2VvT2JqZWN0cy5yZW1vdmUodGhpcy5yZWdpb25zKTtcbiAgICAgICAgICAgICAgICB0aGlzLmNsZWFyU3RhdGVNb25pdG9yKCk7XG4gICAgICAgICAgICAgICAgUmVnaW9uQ29udHJvbC5zdXBlcmNsYXNzLm9uUmVtb3ZlRnJvbU1hcC5jYWxsKHRoaXMsIG1hcCk7XG4gICAgICAgICAgICB9LFxuXG4gICAgICAgICAgICBzZXR1cFN0YXRlTW9uaXRvcjogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIHRoaXMuc3RhdGVNb25pdG9yID0gbmV3IHltYXBzLk1vbml0b3IodGhpcy5zdGF0ZSk7XG4gICAgICAgICAgICAgICAgdGhpcy5zdGF0ZU1vbml0b3IuYWRkKCd2YWx1ZXMnLCB0aGlzLmhhbmRsZVN0YXRlQ2hhbmdlLCB0aGlzKTtcbiAgICAgICAgICAgIH0sXG5cbiAgICAgICAgICAgIGNsZWFyU3RhdGVNb25pdG9yOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5zdGF0ZU1vbml0b3IucmVtb3ZlQWxsKCk7XG4gICAgICAgICAgICB9LFxuXG4gICAgICAgICAgICBoYW5kbGVTdGF0ZUNoYW5nZTogZnVuY3Rpb24gKHBhcmFtcykge1xuICAgICAgICAgICAgICAgIHRoaXMubG9hZFJlZ2lvbnMocGFyYW1zKTtcbiAgICAgICAgICAgIH0sXG5cbiAgICAgICAgICAgIGhhbmRsZVJlZ2lvbnNMb2FkZWQ6IGZ1bmN0aW9uIChyZXMpIHtcbiAgICAgICAgICAgICAgICBpZih0aGlzLnJlZ2lvbnMpe1xuICAgICAgICAgICAgICAgICAgICBtYXAuZ2VvT2JqZWN0cy5yZW1vdmUodGhpcy5yZWdpb25zKTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAvL9Ch0L7Qt9C00LDQvdC40LUg0LPRgNCw0LTQuNC10L3RgtCwINC00LvRjyDQu9C10LPQtdC90LTRi1xuICAgICAgICAgICAgICAgIGpRdWVyeSgnLmxlZ2VuZC1ncmFkaWVudCcpLmNzcygnYmFja2dyb3VuZCcsICdsaW5lYXItZ3JhZGllbnQodG8gYm90dG9tLCByZ2JhKDEwMCwgMCwgMTAwLCAxKSwgcmdiYSgyNTUsIDE1MCwgMTAwLCAxKSknKTtcblxuICAgICAgICAgICAgICAgIC8v0J/RgNC+0LLQtdGA0LrQsCDQv9GA0LjQvdCw0LTQu9C10LbQvdC+0YHRgtC4INGC0L7Rh9C60Lgg0L/QvtC70LjQs9C+0L3Rg1xuICAgICAgICAgICAgICAgIHZhciB0MCA9IHBlcmZvcm1hbmNlLm5vdygpO1xuXG4gICAgICAgICAgICAgICAgdmFyIGNvbnRhaW5zID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgdmFyIG51bWJlck9mRmVhdHVyZXMgPSByZXMuZmVhdHVyZXMubGVuZ3RoO1xuICAgICAgICAgICAgICAgIHZhciBudW1iZXJPZkhvdGVscyA9IGhvdGVscy5mZWF0dXJlcy5sZW5ndGg7XG4gICAgICAgICAgICAgICAgdmFyIG51bWJlck9mQWxsUG9seWdvbnMgPSAwO1xuXG4gICAgICAgICAgICAgICAgdmFyIGhvdGVsc0luUnVzc2lhID0gMDtcbiAgICAgICAgICAgICAgICB2YXIgaXRlcmF0aW9uc0NvdW50ID0gMDtcblxuICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbnVtYmVyT2ZGZWF0dXJlczsgaSsrKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgcmVzLmZlYXR1cmVzW2ldLnByb3BlcnRpZXNbXCJwb2ludHNOdW1iZXJcIl0gPSAwO1xuXG4gICAgICAgICAgICAgICAgICAgIGZvcih2YXIgayA9IDA7IGsgPCByZXMuZmVhdHVyZXNbaV0uZ2VvbWV0cnkuY29vcmRpbmF0ZXMubGVuZ3RoOyBrKyspIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIG51bWJlck9mQWxsUG9seWdvbnMrKztcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vdmFyIG15UG9seWdvbiA9IG5ldyB5bWFwcy5nZW9tZXRyeS5Qb2x5Z29uKFtyZXMuZmVhdHVyZXNbaV0uZ2VvbWV0cnkuY29vcmRpbmF0ZXNba11dKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vbXlQb2x5Z29uLm9wdGlvbnMuc2V0UGFyZW50KG1hcC5vcHRpb25zKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vbXlQb2x5Z29uLnNldE1hcChtYXApO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBqID0gMDsgaiA8IGhvdGVscy5mZWF0dXJlcy5sZW5ndGg7IGorKykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGl0ZXJhdGlvbnNDb3VudCsrO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vINCQ0LvQs9C+0YDQuNGC0Lwg0K/QvdC00LXQutGB0LAgKH4xLjUgc2VjINC/0YDQuCAxMDAgMDAwINC40YLQtdGA0LDRhtC40Y/RhSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBjb250YWlucyA9IG15UG9seWdvbi5jb250YWlucyhob3RlbHMuZmVhdHVyZXNbal0uZ2VvbWV0cnkuY29vcmRpbmF0ZXMpO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8g0JzQtdGC0L7QtCDRgtGA0LDRgdGB0LjRgNC+0LLQutC4INC70YPRh9CwICjQsdC10Lcg0YPRh9C10YLQsCDQs9GA0LDQvdC40YfQvdGL0YUg0YHQu9GD0YfQsNC10LIpLiAofjIwMCBtcyDQv9GA0LggMTAwIDAwMCDQuNGC0LXRgNCw0YbQuNGP0YUpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy9jb250YWlucyA9IG5vdEFjY3VyYXRlUmF5Q2FzdChob3RlbHMuZmVhdHVyZXNbal0uZ2VvbWV0cnkuY29vcmRpbmF0ZXMsIHJlcy5mZWF0dXJlc1tpXS5nZW9tZXRyeS5jb29yZGluYXRlc1trXSk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyDQo9C70YPRh9GI0LXQvdC90YvQuSwg0YLQvtGH0L3Ri9C5INC80LXRgtC+0LQg0YLRgNCw0YHRgdC40YDQvtCy0LrQuCDQu9GD0YfQsC4gKH4yNzAgbXMg0L/RgNC4IDEwMCAwMDAg0LjRgtC10YDQsNGG0LjRj9GFKSAofjEgc2VjINC/0YDQuCA1MDAgMDAwINC40YLQtdGA0LDRhtC40Y/RhSkgKH4yLjIgc2VjINC/0YDQuCAx0LzQu9C9LiDQuNGC0LXRgNCw0YbQuNC5KVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRhaW5zID0gY2xhc3NpZnlQb2ludChyZXMuZmVhdHVyZXNbaV0uZ2VvbWV0cnkuY29vcmRpbmF0ZXNba10sIGhvdGVscy5mZWF0dXJlc1tqXS5nZW9tZXRyeS5jb29yZGluYXRlcy5yZXZlcnNlKCkpO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGNvbnRhaW5zICE9PSAxKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlcy5mZWF0dXJlc1tpXS5wcm9wZXJ0aWVzW1wicG9pbnRzTnVtYmVyXCJdKys7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGhvdGVsc0luUnVzc2lhKys7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8g0KPQstC10LvQuNGH0LjQstCw0LXQvCDRjdGE0YTQtdC60YLQuNCy0L3QvtGB0YLRjCDQsNC70LPQvtGA0LjRgtC80LAuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vINCn0LXQvCDQsdC+0LvRjNGI0LUg0YLQvtGH0LXQuiDQv9GA0LjQvdCw0LTQu9C10LbQuNGCINGC0LXQutGD0YnQtdC5INGB0YLRgNCw0L3QtSwg0YLQtdC8INCy0YvRiNC1INGN0YTRhNC10LrRgtC40LLQvdC+0YHRgtGMINC00LDQvdC90L7QuSDRgdGC0YDQvtGH0LrQuC5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaG90ZWxzLmZlYXR1cmVzLnNwbGljZShqLS0sIDEpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIHZhciBzY3JpcHRUaW1lID0gcGVyZm9ybWFuY2Uubm93KCkgLSB0MDtcblxuICAgICAgICAgICAgICAgIC8vINCb0L7Qs9C40YDQvtCy0LDQvdC40LUg0LfQvdCw0YfQtdC90LjQuVxuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCfQmtC+0Lst0LLQviDQuNGC0LXRgNCw0YbQuNC5ICcgKyBpdGVyYXRpb25zQ291bnQpO1xuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCfQmtC+0Lst0LLQviDQv9C+0LvQuNCz0L7QvdC+0LIgJyArIG51bWJlck9mQWxsUG9seWdvbnMpO1xuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCfQmtC+0Lst0LLQviDRgtC+0YfQtdC6ICcgKyBudW1iZXJPZkhvdGVscyk7XG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ9CS0YDQtdC80Y8g0YDQsNCx0L7RgtGLINGB0LrRgNC40L/RgtCwICcgKyBzY3JpcHRUaW1lLnRvRml4ZWQoMikgKyAnIG1zJyk7XG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coJyAnKTtcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygn0JLRgdC10LPQviDQsiDQs9GA0LDQvdC40YbRiyDQoNC+0YHRgdC40Lgg0L/QvtC/0LDQu9C+ICcgKyBob3RlbHNJblJ1c3NpYSArICcg0YLQvtGH0LXQui4nKTtcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygnICcpO1xuXG4gICAgICAgICAgICAgICAgdmFyIGxvY2FsTWF4aW11bSA9IDA7XG4gICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBudW1iZXJPZkZlYXR1cmVzOyBpKyspIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIG51bSA9IHJlcy5mZWF0dXJlc1tpXS5wcm9wZXJ0aWVzW1wicG9pbnRzTnVtYmVyXCJdO1xuXG4gICAgICAgICAgICAgICAgICAgIGlmIChsb2NhbE1heGltdW0gPCBudW0pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGxvY2FsTWF4aW11bSA9IG51bTtcbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIGlmIChyZXMuZmVhdHVyZXNbaV0ucHJvcGVydGllc1tcInBvaW50c051bWJlclwiXSA+IDApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKHJlcy5mZWF0dXJlc1tpXS5wcm9wZXJ0aWVzLm5hbWUgKyAnICcgKyBudW0gKyAnINC+0YLQtdC70LXQuS4nKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIC8vINCS0YvQsdC40YDQsNC10Lwg0Y3QutGB0YLRgNC10LzRg9C8LlxuICAgICAgICAgICAgICAgIGhvdGVsc0luUnVzc2lhID0gbG9jYWxNYXhpbXVtO1xuXG4gICAgICAgICAgICAgICAgdGhpcy5yZWdpb25zID0gbmV3IHltYXBzLk9iamVjdE1hbmFnZXIoKTtcbiAgICAgICAgICAgICAgICB0aGlzLnJlZ2lvbnNcbiAgICAgICAgICAgICAgICAgICAgLmFkZChyZXMuZmVhdHVyZXMubWFwKGZ1bmN0aW9uIChmZWF0dXJlLCBpKSB7XG5cblxuICAgICAgICAgICAgICAgICAgICAgICAgLy8g0KbQstC10YLQvtCy0YvQtSDRgdC+0YHRgtCw0LLQu9GP0Y7RidC40LVcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBSID0gMzU1IC0gKDEwMCArIE1hdGguZmxvb3IoMTU1ICogZmVhdHVyZS5wcm9wZXJ0aWVzW1wicG9pbnRzTnVtYmVyXCJdIC8gaG90ZWxzSW5SdXNzaWEpKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBHID0gMTUwIC0gTWF0aC5mbG9vcigxNTAgKiBmZWF0dXJlLnByb3BlcnRpZXNbXCJwb2ludHNOdW1iZXJcIl0gLyBob3RlbHNJblJ1c3NpYSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgQiA9IDEwMDtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBhbHBoYSA9IGZlYXR1cmUucHJvcGVydGllc1tcInBvaW50c051bWJlclwiXSA/IDAuOSA6IDAuMTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgZmVhdHVyZS5vcHRpb25zID0ge2ZpbGxDb2xvcjogXCJyZ2JhKFwiICsgUiArIFwiLCBcIiArIEcgKyBcIiwgXCIgKyBCICsgXCIsIFwiICsgYWxwaGEgKyBcIilcIn07XG5cblxuICAgICAgICAgICAgICAgICAgICAgICAgZmVhdHVyZS5pZCA9IGZlYXR1cmUucHJvcGVydGllcy5pc28zMTY2O1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZlYXR1cmU7XG4gICAgICAgICAgICAgICAgICAgIH0pKTtcblxuICAgICAgICAgICAgICAgIG1hcC5nZW9PYmplY3RzLmFkZCh0aGlzLnJlZ2lvbnMpO1xuICAgICAgICAgICAgICAgIHRoaXMuZ2V0TWFwKCkuc2V0Qm91bmRzKFxuICAgICAgICAgICAgICAgICAgICB0aGlzLnJlZ2lvbnMuZ2V0Qm91bmRzKCksXG4gICAgICAgICAgICAgICAgICAgIHtjaGVja1pvb21SYW5nZTogdHJ1ZX1cbiAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgfSxcblxuICAgICAgICAgICAgbG9hZFJlZ2lvbnM6IGZ1bmN0aW9uIChwYXJhbXMpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmRpc2FibGUoKTtcbiAgICAgICAgICAgICAgICByZXR1cm4geW1hcHMuYm9yZGVycy5sb2FkKHBhcmFtcy5yZWdpb24sIHBhcmFtcylcbiAgICAgICAgICAgICAgICAgICAgLnRoZW4odGhpcy5oYW5kbGVSZWdpb25zTG9hZGVkLCB0aGlzKVxuICAgICAgICAgICAgICAgICAgICAuYWx3YXlzKHRoaXMuZW5hYmxlLCB0aGlzKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSksXG5cbiAgICAgICAgbWFwID0gbmV3IHltYXBzLk1hcCgnbWFwJywge1xuICAgICAgICAgICAgY2VudGVyOiBbNTAsIDMwXSxcbiAgICAgICAgICAgIHpvb206IDMsXG4gICAgICAgICAgICBjb250cm9sczogWyd0eXBlU2VsZWN0b3InXVxuICAgICAgICB9LCB7XG4gICAgICAgICAgICB0eXBlU2VsZWN0b3JTaXplOiAnc21hbGwnXG4gICAgICAgIH0pLFxuXG4gICAgICAgIC8vINCh0L7Qt9C00LDQtNC40Lwg0Y3QutC30LXQvNC/0LvRj9GAIFJlZ2lvbkNvbnRyb2wuXG4gICAgICAgIHJlZ2lvbkNvbnRyb2wgPSBuZXcgUmVnaW9uQ29udHJvbCh7XG4gICAgICAgICAgICBzdGF0ZToge1xuICAgICAgICAgICAgICAgIGVuYWJsZWQ6IHRydWUsXG4gICAgICAgICAgICAgICAgdmFsdWVzOiB7XG4gICAgICAgICAgICAgICAgICAgIHJlZ2lvbjogJ1JVJyxcbiAgICAgICAgICAgICAgICAgICAgbGFuZzogJ3J1JyxcbiAgICAgICAgICAgICAgICAgICAgcXVhbGl0eTogJzEnXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGRhdGE6IHtcbiAgICAgICAgICAgICAgICBwYXJhbXM6IFJFR0lPTlNfREFUQVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIG9wdGlvbnM6IHtcbiAgICAgICAgICAgICAgICBsYXlvdXQ6IFJlZ2lvbkNvbnRyb2xMYXlvdXRcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBmbG9hdDogJ2xlZnQnLFxuICAgICAgICAgICAgbWF4V2lkdGg6IFszMDBdXG4gICAgICAgIH0pO1xuXG4gICAgLy8g0JTQvtCx0LDQstC40Lwg0LrQvtC90YLRgNC+0Lsg0L3QsCDQutCw0YDRgtGDLlxuICAgIG1hcC5jb250cm9scy5hZGQocmVnaW9uQ29udHJvbCk7XG4gICAgLy8g0KPQt9C90LDQstCw0YLRjCDQviDQuNC30LzQtdC90LXQvdC40Y/RhSDQv9Cw0YDQsNC80LXRgtGA0L7QsiBSZWdpb25Db250cm9sINC80L7QttC90L4g0YHQu9C10LTRg9GO0YnQuNC8INC+0LHRgNCw0LfQvtC8LlxuICAgIHJlZ2lvbkNvbnRyb2wuZXZlbnRzLmFkZCgnc3RhdGVjaGFuZ2UnLCBmdW5jdGlvbiAoZSkge1xuICAgICAgICBjb25zb2xlLmxvZyhlLmdldCgndGFyZ2V0JykuZ2V0KCd2YWx1ZXMnKSk7XG4gICAgfSk7XG59Il0sInNvdXJjZVJvb3QiOiIifQ==